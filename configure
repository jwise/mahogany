#! /bin/sh

# Guess values for system-dependent variables and create Makefiles.
# Generated automatically using autoconf version 2.13 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.

# Defaults:
ac_help=
ac_default_prefix=/usr/local
# Any additions from configure.in:
ac_help="$ac_help
  --enable-debug          generate code with debugging information"
ac_help="$ac_help
  --disable-optimize      disable optimization (automatic if debugging)"
ac_help="$ac_help
  --with-wxdebug          use debug wxWidgets libraries"
ac_help="$ac_help
  --with-dmalloc          use dmalloc (http://dmalloc.com/) for debugging"
ac_help="$ac_help
  --with-leaktracer       use LeakTracer for debugging"
ac_help="$ac_help
  --with-efence           use ElectricFence for debugging"
ac_help="$ac_help
  --enable-profile        generate code for profiling"
ac_help="$ac_help
  --enable-strict         strict compiler flags - may not work on all systems"
ac_help="$ac_help
  --disable-nls           no internationalization support"
ac_help="$ac_help
  --with-python=xxx       one of none/static/dynamic"
ac_help="$ac_help
  --with-dspam            use DSPAM for spam filtering"
ac_help="$ac_help
  --without-swig          don't use swig even if it is available"
ac_help="$ac_help
  --disable-dialup        disable dial-up support for modem users"
ac_help="$ac_help
  --with-experimental     compile experimental code"
ac_help="$ac_help
  --with-threads          multi-threaded version (DOES NOT WORK)"
ac_help="$ac_help
  --with-palm             include support for Palm Pilot"
ac_help="$ac_help
  --with-ccostype=xxx     use OS type xxx for c-client compilation"
ac_help="$ac_help
  --with-modules=xxx      one of none/static/dynamic"
ac_help="$ac_help
  --with-ssl=ssldir       specify path where OpenSSL is installed"
ac_help="$ac_help
  --with-wxdir=PATH       Use uninstalled version of wxWidgets in PATH"
ac_help="$ac_help
  --with-wx-config=CONFIG wx-config script to use (optional)"
ac_help="$ac_help
  --with-wx-prefix=PREFIX Prefix where wxWidgets is installed (optional)"
ac_help="$ac_help
  --with-wx-exec-prefix=PREFIX
                          Exec prefix where wxWidgets is installed (optional)"

# Initialize some variables set by options.
# The variables have the same names as the options, with
# dashes changed to underlines.
build=NONE
cache_file=./config.cache
exec_prefix=NONE
host=NONE
no_create=
nonopt=NONE
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
target=NONE
verbose=
x_includes=NONE
x_libraries=NONE
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datadir='${prefix}/share'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${prefix}/info'
mandir='${prefix}/man'

# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12

ac_prev=
for ac_option
do

  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case "$ac_option" in

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir="$ac_optarg" ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build="$ac_optarg" ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file="$ac_optarg" ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir="$ac_optarg" ;;

  -disable-* | --disable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;

  -enable-* | --enable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_${ac_feature}='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix="$ac_optarg" ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
    if test -n "$ac_help"; then
      echo "--enable and --with options recognized:$ac_help"
    fi
    exit 0 ;;

  -host | --host | --hos | --ho)
    ac_prev=host ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host="$ac_optarg" ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir="$ac_optarg" ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir="$ac_optarg" ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir="$ac_optarg" ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir="$ac_optarg" ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir="$ac_optarg" ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir="$ac_optarg" ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir="$ac_optarg" ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix="$ac_optarg" ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix="$ac_optarg" ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix="$ac_optarg" ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name="$ac_optarg" ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir="$ac_optarg" ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir="$ac_optarg" ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site="$ac_optarg" ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir="$ac_optarg" ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir="$ac_optarg" ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target="$ac_optarg" ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.13"
    exit 0 ;;

  -with-* | --with-*)
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "with_${ac_package}='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes="$ac_optarg" ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries="$ac_optarg" ;;

  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
    ;;

  *)
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
    ;;

  esac
done

if test -n "$ac_prev"; then
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
fi

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
fi
exec 5>./config.log

echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
do
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
  esac
done

# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h

# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=configure.in

# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
  else
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
  fi
fi
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`

# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  echo "loading cache $cache_file"
  . $cache_file
else
  echo "creating cache $cache_file"
  > $cache_file
fi

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

ac_exeext=
ac_objext=o
if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
fi


# From configure.in Id: configure.in 7460 2008-05-03 18:59:06Z vadz 

rm -f conftestdata
if ln -s X conftestdata 2>/dev/null
then	rm -f conftestdata
else	{ echo "configure: error: Sorry, this build system will not work on a
	system without symbolic links.  It depends on the ability
	to create links to directories, so this is not something
	that can be worked around." 1>&2; exit 1; }
fi

if test "x$OSTYPE" = "x"; then
        OSTYPE=`uname`
fi

case "$OSTYPE" in
    darwin* | Darwin*)
	USE_MAC=1
	MAKE_USE_MAC="USE_MAC=yes"
	USE_MINGW=0
	MAKE_USE_MINGW=""
	USE_RESOURCES=0
	MAKE_USE_RESOURCES=""
	;;
    cygwin* | CYGWIN*)
	USE_MAC=0
	MAKE_USE_MAC=""
	USE_MINGW=0
	MAKE_USE_MINGW=""
	USE_RESOURCES=1
	MAKE_USE_RESOURCES="USE_RESOURCES=yes"
	;;
    mingw* | MINGW*)
	USE_MAC=0
	MAKE_USE_MAC=""
	USE_MINGW=1
	MAKE_USE_MINGW="USE_MINGW=yes"
	USE_RESOURCES=1
	MAKE_USE_RESOURCES="USE_RESOURCES=yes"
	;;
    *)
	USE_MAC=0
	MAKE_USE_MAC=""
	USE_MINGW=0
	MAKE_USE_MINGW=""
	USE_RESOURCES=0
	MAKE_USE_RESOURCES=""
	;;
esac




echo ""
echo "*** Configuring Mahogany for $OSTYPE ***"
echo ""


ac_aux_dir=
for ac_dir in extra/scripts $srcdir/extra/scripts; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in extra/scripts $srcdir/extra/scripts" 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.

### HACK: unfortunately, the Makefiles in subdirectories can use this
### install program without qualification.  We really shouldn't do it
### this way, but we force the install-sh found here to be a full path.
case "$ac_install_sh" in
/*)	;;
../*)	ac_install_sh=`cd .; exec pwd``expr "$ac_install_sh" : '\.\.\(.*\)'` ;;
*)	ac_install_sh=`cd $srcdir; exec pwd`/$ac_install_sh ;;
esac


echo $ac_n "checking for debugging""... $ac_c" 1>&6
echo "configure:660: checking for debugging" >&5
# Check whether --enable-debug or --disable-debug was given.
if test "${enable_debug+set}" = set; then
  enableval="$enable_debug"
  case "$enableval" in
  yes) m_cv_USE_DEBUG=1 ;;
  no)  m_cv_USE_DEBUG=0 ;;
  *)   m_cv_USE_DEBUG="$enableval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_DEBUG'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_DEBUG='0'
fi
fi
USE_DEBUG="$m_cv_USE_DEBUG"
case "$m_cv_USE_DEBUG" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_DEBUG" 1>&6 ;;
esac

case "$USE_DEBUG" in
        0|'')
	echo $ac_n "checking for optimization""... $ac_c" 1>&6
echo "configure:686: checking for optimization" >&5
# Check whether --enable-optimize or --disable-optimize was given.
if test "${enable_optimize+set}" = set; then
  enableval="$enable_optimize"
  case "$enableval" in
  yes) m_cv_USE_OPT=1 ;;
  no)  m_cv_USE_OPT=0 ;;
  *)   m_cv_USE_OPT="$enableval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_OPT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_OPT='1'
fi
fi
USE_OPT="$m_cv_USE_OPT"
case "$m_cv_USE_OPT" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_OPT" 1>&6 ;;
esac
	debug_option="no"
	;;

        *)
	echo $ac_n "checking for wxWin debug libs""... $ac_c" 1>&6
echo "configure:713: checking for wxWin debug libs" >&5
# Check whether --with-wxdebug or --without-wxdebug was given.
if test "${with_wxdebug+set}" = set; then
  withval="$with_wxdebug"
  case "$withval" in
  yes) m_cv_USE_WXDEBUG=1 ;;
  no)  m_cv_USE_WXDEBUG=0 ;;
  *)   m_cv_USE_WXDEBUG="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_WXDEBUG'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_WXDEBUG='0'
fi
fi
USE_WXDEBUG="$m_cv_USE_WXDEBUG"
case "$m_cv_USE_WXDEBUG" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_WXDEBUG" 1>&6 ;;
esac

	echo $ac_n "checking for dmalloc library""... $ac_c" 1>&6
echo "configure:737: checking for dmalloc library" >&5
# Check whether --with-dmalloc or --without-dmalloc was given.
if test "${with_dmalloc+set}" = set; then
  withval="$with_dmalloc"
  case "$withval" in
  yes) m_cv_USE_DMALLOC=1 ;;
  no)  m_cv_USE_DMALLOC=0 ;;
  *)   m_cv_USE_DMALLOC="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_DMALLOC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_DMALLOC='0'
fi
fi
USE_DMALLOC="$m_cv_USE_DMALLOC"
case "$m_cv_USE_DMALLOC" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_DMALLOC" 1>&6 ;;
esac

	echo $ac_n "checking for LeakTracer""... $ac_c" 1>&6
echo "configure:761: checking for LeakTracer" >&5
# Check whether --with-leaktracer or --without-leaktracer was given.
if test "${with_leaktracer+set}" = set; then
  withval="$with_leaktracer"
  case "$withval" in
  yes) m_cv_USE_LEAKTRACER=1 ;;
  no)  m_cv_USE_LEAKTRACER=0 ;;
  *)   m_cv_USE_LEAKTRACER="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_LEAKTRACER'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_LEAKTRACER='0'
fi
fi
USE_LEAKTRACER="$m_cv_USE_LEAKTRACER"
case "$m_cv_USE_LEAKTRACER" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_LEAKTRACER" 1>&6 ;;
esac

	echo $ac_n "checking for ElectricFence""... $ac_c" 1>&6
echo "configure:785: checking for ElectricFence" >&5
# Check whether --with-efence or --without-efence was given.
if test "${with_efence+set}" = set; then
  withval="$with_efence"
  case "$withval" in
  yes) m_cv_USE_EFENCE=1 ;;
  no)  m_cv_USE_EFENCE=0 ;;
  *)   m_cv_USE_EFENCE="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_EFENCE'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_EFENCE='0'
fi
fi
USE_EFENCE="$m_cv_USE_EFENCE"
case "$m_cv_USE_EFENCE" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_EFENCE" 1>&6 ;;
esac

	debug_option="yes"
esac

echo $ac_n "checking for profiling""... $ac_c" 1>&6
echo "configure:812: checking for profiling" >&5
# Check whether --enable-profile or --disable-profile was given.
if test "${enable_profile+set}" = set; then
  enableval="$enable_profile"
  case "$enableval" in
  yes) m_cv_USE_PROFILER=1 ;;
  no)  m_cv_USE_PROFILER=0 ;;
  *)   m_cv_USE_PROFILER="$enableval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_PROFILER'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_PROFILER='0'
fi
fi
USE_PROFILER="$m_cv_USE_PROFILER"
case "$m_cv_USE_PROFILER" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_PROFILER" 1>&6 ;;
esac

echo $ac_n "checking for strict compiler options""... $ac_c" 1>&6
echo "configure:836: checking for strict compiler options" >&5
# Check whether --enable-strict or --disable-strict was given.
if test "${enable_strict+set}" = set; then
  enableval="$enable_strict"
  case "$enableval" in
  yes) m_cv_USE_STRICT=1 ;;
  no)  m_cv_USE_STRICT=0 ;;
  *)   m_cv_USE_STRICT="$enableval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_STRICT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_STRICT='0'
fi
fi
USE_STRICT="$m_cv_USE_STRICT"
case "$m_cv_USE_STRICT" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_STRICT" 1>&6 ;;
esac

echo $ac_n "checking for i18n support""... $ac_c" 1>&6
echo "configure:860: checking for i18n support" >&5
# Check whether --enable-nls or --disable-nls was given.
if test "${enable_nls+set}" = set; then
  enableval="$enable_nls"
  case "$enableval" in
  yes) m_cv_USE_I18N=1 ;;
  no)  m_cv_USE_I18N=0 ;;
  *)   m_cv_USE_I18N="$enableval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_I18N'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_I18N='1'
fi
fi
USE_I18N="$m_cv_USE_I18N"
case "$m_cv_USE_I18N" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_I18N" 1>&6 ;;
esac

echo $ac_n "checking for Python scripting""... $ac_c" 1>&6
echo "configure:884: checking for Python scripting" >&5
# Check whether --with-python or --without-python was given.
if test "${with_python+set}" = set; then
  withval="$with_python"
  case "$withval" in
  yes) m_cv_USE_PYTHON=1 ;;
  no)  m_cv_USE_PYTHON=0 ;;
  *)   m_cv_USE_PYTHON="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_PYTHON'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_PYTHON='1'
fi
fi
USE_PYTHON="$m_cv_USE_PYTHON"
case "$m_cv_USE_PYTHON" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_PYTHON" 1>&6 ;;
esac

echo $ac_n "checking for DSPAM spam filter""... $ac_c" 1>&6
echo "configure:908: checking for DSPAM spam filter" >&5
# Check whether --with-dspam or --without-dspam was given.
if test "${with_dspam+set}" = set; then
  withval="$with_dspam"
  case "$withval" in
  yes) m_cv_USE_DSPAM=1 ;;
  no)  m_cv_USE_DSPAM=0 ;;
  *)   m_cv_USE_DSPAM="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_DSPAM'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_DSPAM='1'
fi
fi
USE_DSPAM="$m_cv_USE_DSPAM"
case "$m_cv_USE_DSPAM" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_DSPAM" 1>&6 ;;
esac

if test "$USE_PYTHON" = 1; then
    if test "$USE_MAC" = 1; then
	USE_PYTHON="static"
    else
	USE_PYTHON="dynamic"
    fi
fi

case "$USE_PYTHON" in
    static|Static|STATIC|dynamic|Dynamic|DYNAMIC|1)
	echo $ac_n "checking for whether we should use SWIG""... $ac_c" 1>&6
echo "configure:942: checking for whether we should use SWIG" >&5
# Check whether --with-swig or --without-swig was given.
if test "${with_swig+set}" = set; then
  withval="$with_swig"
  case "$withval" in
  yes) m_cv_USE_SWIG=1 ;;
  no)  m_cv_USE_SWIG=0 ;;
  *)   m_cv_USE_SWIG="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_SWIG'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_SWIG='1'
fi
fi
USE_SWIG="$m_cv_USE_SWIG"
case "$m_cv_USE_SWIG" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_SWIG" 1>&6 ;;
esac
	;;
esac

if test "$USE_MAC" = 0; then
    echo $ac_n "checking for special dial-up support""... $ac_c" 1>&6
echo "configure:969: checking for special dial-up support" >&5
# Check whether --enable-dialup or --disable-dialup was given.
if test "${enable_dialup+set}" = set; then
  enableval="$enable_dialup"
  case "$enableval" in
  yes) m_cv_USE_DIALUP=1 ;;
  no)  m_cv_USE_DIALUP=0 ;;
  *)   m_cv_USE_DIALUP="$enableval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_DIALUP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_DIALUP='1'
fi
fi
USE_DIALUP="$m_cv_USE_DIALUP"
case "$m_cv_USE_DIALUP" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_DIALUP" 1>&6 ;;
esac
fi

echo $ac_n "checking for experimental code""... $ac_c" 1>&6
echo "configure:994: checking for experimental code" >&5
# Check whether --with-experimental or --without-experimental was given.
if test "${with_experimental+set}" = set; then
  withval="$with_experimental"
  case "$withval" in
  yes) m_cv_USE_EXPERIMENTAL=1 ;;
  no)  m_cv_USE_EXPERIMENTAL=0 ;;
  *)   m_cv_USE_EXPERIMENTAL="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_EXPERIMENTAL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_EXPERIMENTAL='0'
fi
fi
USE_EXPERIMENTAL="$m_cv_USE_EXPERIMENTAL"
case "$m_cv_USE_EXPERIMENTAL" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_EXPERIMENTAL" 1>&6 ;;
esac

echo $ac_n "checking for multi-threading""... $ac_c" 1>&6
echo "configure:1018: checking for multi-threading" >&5
# Check whether --with-threads or --without-threads was given.
if test "${with_threads+set}" = set; then
  withval="$with_threads"
  case "$withval" in
  yes) m_cv_USE_THREADS=1 ;;
  no)  m_cv_USE_THREADS=0 ;;
  *)   m_cv_USE_THREADS="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_THREADS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_THREADS='0'
fi
fi
USE_THREADS="$m_cv_USE_THREADS"
case "$m_cv_USE_THREADS" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_THREADS" 1>&6 ;;
esac

echo $ac_n "checking for Palm Pilot support""... $ac_c" 1>&6
echo "configure:1042: checking for Palm Pilot support" >&5
# Check whether --with-palm or --without-palm was given.
if test "${with_palm+set}" = set; then
  withval="$with_palm"
  case "$withval" in
  yes) m_cv_USE_PISOCK=1 ;;
  no)  m_cv_USE_PISOCK=0 ;;
  *)   m_cv_USE_PISOCK="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_PISOCK'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_PISOCK='0'
fi
fi
USE_PISOCK="$m_cv_USE_PISOCK"
case "$m_cv_USE_PISOCK" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_PISOCK" 1>&6 ;;
esac

echo $ac_n "checking for c-client OS type""... $ac_c" 1>&6
echo "configure:1066: checking for c-client OS type" >&5
# Check whether --with-ccostype or --without-ccostype was given.
if test "${with_ccostype+set}" = set; then
  withval="$with_ccostype"
  case "$withval" in
  yes) m_cv_USE_CCOSTYPE=1 ;;
  no)  m_cv_USE_CCOSTYPE=0 ;;
  *)   m_cv_USE_CCOSTYPE="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_CCOSTYPE'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_CCOSTYPE=''
fi
fi
USE_CCOSTYPE="$m_cv_USE_CCOSTYPE"
case "$m_cv_USE_CCOSTYPE" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_CCOSTYPE" 1>&6 ;;
esac

echo $ac_n "checking for modules""... $ac_c" 1>&6
echo "configure:1090: checking for modules" >&5
# Check whether --with-modules or --without-modules was given.
if test "${with_modules+set}" = set; then
  withval="$with_modules"
  case "$withval" in
  yes) m_cv_USE_MODULES=1 ;;
  no)  m_cv_USE_MODULES=0 ;;
  *)   m_cv_USE_MODULES="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_MODULES'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_MODULES='auto'
fi
fi
USE_MODULES="$m_cv_USE_MODULES"
case "$m_cv_USE_MODULES" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_MODULES" 1>&6 ;;
esac

echo $ac_n "checking for SSL support""... $ac_c" 1>&6
echo "configure:1114: checking for SSL support" >&5
# Check whether --with-ssl or --without-ssl was given.
if test "${with_ssl+set}" = set; then
  withval="$with_ssl"
  case "$withval" in
  yes) m_cv_USE_SSL=1 ;;
  no)  m_cv_USE_SSL=0 ;;
  *)   m_cv_USE_SSL="$withval" ;;
  esac
else
  if eval "test \"`echo '$''{'m_cv_USE_SSL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_USE_SSL='1'
fi
fi
USE_SSL="$m_cv_USE_SSL"
case "$m_cv_USE_SSL" in
''|0)  echo "$ac_t""no" 1>&6 ;;
1)  echo "$ac_t""yes" 1>&6 ;;
*)  echo "$ac_t""$m_cv_USE_SSL" 1>&6 ;;
esac

echo $ac_n "checking for install location""... $ac_c" 1>&6
echo "configure:1138: checking for install location" >&5
case "$prefix" in
NONE)	if eval "test \"`echo '$''{'m_cv_prefix'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_cv_prefix=$ac_default_prefix
fi
;;
*)	m_cv_prefix=$prefix ;;
esac
echo "$ac_t""$m_cv_prefix" 1>&6
case "$m_cv_prefix" in /*) ;; *)
	echo "configure: warning: --prefix=$prefix must be an absolute path name, using $ac_default_prefix" 1>&2
	m_cv_prefix=$ac_default_prefix
esac
prefix=$m_cv_prefix


    # Check whether --with-wxdir or --without-wxdir was given.
if test "${with_wxdir+set}" = set; then
  withval="$with_wxdir"
   wx_config_name="$withval/wx-config"
                  wx_config_args="--inplace"
fi

    # Check whether --with-wx-config or --without-wx-config was given.
if test "${with_wx_config+set}" = set; then
  withval="$with_wx_config"
  wx_config_name="$withval" 
fi

    # Check whether --with-wx-prefix or --without-wx-prefix was given.
if test "${with_wx_prefix+set}" = set; then
  withval="$with_wx_prefix"
  wx_config_prefix="$withval"
else
  wx_config_prefix=""
fi

    # Check whether --with-wx-exec-prefix or --without-wx-exec-prefix was given.
if test "${with_wx_exec_prefix+set}" = set; then
  withval="$with_wx_exec_prefix"
  wx_config_exec_prefix="$withval"
else
  wx_config_exec_prefix=""
fi



cat > confcache <<\EOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
EOF
# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(set) 2>&1 |
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
  *ac_space=\ *)
    # `set' does not quote correctly, so add quotes (double-quote substitution
    # turns \\\\ into \\, and sed turns \\ into \).
    sed -n \
      -e "s/'/'\\\\''/g" \
      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
    ;;
  *)
    # `set' quotes correctly as required by POSIX, so do not add quotes.
    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
    ;;
  esac >> confcache
if cmp -s $cache_file confcache; then
  :
else
  if test -w $cache_file; then
    echo "updating cache $cache_file"
    cat confcache > $cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache




# Make sure we can run config.sub.
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
fi

echo $ac_n "checking host system type""... $ac_c" 1>&6
echo "configure:1243: checking host system type" >&5

host_alias=$host
case "$host_alias" in
NONE)
  case $nonopt in
  NONE)
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
    else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
    fi ;;
  *) host_alias=$nonopt ;;
  esac ;;
esac

host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$host" 1>&6

cat >> confdefs.h <<EOF
#define M_CANONICAL_HOST "$host"
EOF

cat >> confdefs.h <<EOF
#define M_OSINFO _T("`uname -s -r -m`")
EOF

cat >> confdefs.h <<EOF
#define M_PREFIX "$prefix"
EOF


SOURCEDIR=`cd $srcdir; exec pwd`

cat >> confdefs.h <<EOF
#define M_TOP_SOURCEDIR _T("$SOURCEDIR")
EOF

BUILDDIR=`cd .; exec pwd`

cat >> confdefs.h <<EOF
#define M_TOP_BUILDDIR _T("$BUILDDIR")
EOF



CFLAGS=${CFLAGS=}	# magic incantation so CFLAGS not set by AC_PROG_CC
# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1294: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1324: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_prog_rejected=no
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@"
    shift
    ac_cv_prog_CC="$@"
  fi
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1375: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
  fi
  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
fi

echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:1407: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext << EOF

#line 1418 "configure"
#include "confdefs.h"

main(){return(0);}
EOF
if { (eval echo configure:1423: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:1449: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:1454: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1463: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
else
  ac_cv_prog_gcc=no
fi
fi

echo "$ac_t""$ac_cv_prog_gcc" 1>&6

if test $ac_cv_prog_gcc = yes; then
  GCC=yes
else
  GCC=
fi

ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:1482: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_cc_g=yes
else
  ac_cv_prog_cc_g=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi


echo $ac_n "checking for POSIXized ISC""... $ac_c" 1>&6
echo "configure:1515: checking for POSIXized ISC" >&5
if test -d /etc/conf/kconfig.d &&
  grep _POSIX_VERSION /usr/include/sys/unistd.h >/dev/null 2>&1
then
  echo "$ac_t""yes" 1>&6
  ISC=yes # If later tests want to check for ISC.
  cat >> confdefs.h <<\EOF
#define _POSIX_SOURCE 1
EOF

  if test "$GCC" = yes; then
    CC="$CC -posix"
  else
    CC="$CC -Xp"
  fi
else
  echo "$ac_t""no" 1>&6
  ISC=
fi


if test "x$CC" != xcc; then
  echo $ac_n "checking whether $CC and cc understand -c and -o together""... $ac_c" 1>&6
echo "configure:1538: checking whether $CC and cc understand -c and -o together" >&5
else
  echo $ac_n "checking whether cc understands -c and -o together""... $ac_c" 1>&6
echo "configure:1541: checking whether cc understands -c and -o together" >&5
fi
set dummy $CC; ac_cc="`echo $2 |
		       sed -e 's/[^a-zA-Z0-9_]/_/g' -e 's/^[0-9]/_/'`"
if eval "test \"`echo '$''{'ac_cv_prog_cc_${ac_cc}_c_o'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'foo(){}' > conftest.c
# Make sure it works both with $CC and with simple cc.
# We do the test twice because some compilers refuse to overwrite an
# existing .o file with -o, though they will create one.
ac_try='${CC-cc} -c conftest.c -o conftest.o 1>&5'
if { (eval echo configure:1553: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; } &&
   test -f conftest.o && { (eval echo configure:1554: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; };
then
  eval ac_cv_prog_cc_${ac_cc}_c_o=yes
  if test "x$CC" != xcc; then
    # Test first that cc exists at all.
    if { ac_try='cc -c conftest.c 1>&5'; { (eval echo configure:1559: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; }; then
      ac_try='cc -c conftest.c -o conftest.o 1>&5'
      if { (eval echo configure:1561: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; } &&
	 test -f conftest.o && { (eval echo configure:1562: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; };
      then
        # cc works too.
        :
      else
        # cc exists but doesn't like -o.
        eval ac_cv_prog_cc_${ac_cc}_c_o=no
      fi
    fi
  fi
else
  eval ac_cv_prog_cc_${ac_cc}_c_o=no
fi
rm -f conftest*

fi
if eval "test \"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\" = yes"; then
  echo "$ac_t""yes" 1>&6
else
  echo "$ac_t""no" 1>&6
  cat >> confdefs.h <<\EOF
#define NO_MINUS_C_MINUS_O 1
EOF

fi

# I dislike delving so deeply into autoconf's internal values, but this
# seems to be the only accurate way of finding out what it determined.
case `eval echo '$'{ac_cv_prog_cc_${ac_cc}_c_o}` in yes) ;; *)
	{ echo "configure: error: Sorry, this capability is used extensively by the build
	system, including third-party code that we do not control.  You'll
	have to use a compiler that supports this." 1>&2; exit 1; } ;;
esac

echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
echo "configure:1597: checking how to run the C preprocessor" >&5
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    # This must be in double quotes, not single quotes, because CPP may get
  # substituted into the Makefile and "${CC-cc}" will confuse make.
  CPP="${CC-cc} -E"
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp.
  cat > conftest.$ac_ext <<EOF
#line 1612 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1618: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -E -traditional-cpp"
  cat > conftest.$ac_ext <<EOF
#line 1629 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1635: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 1646 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1652: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP=/lib/cpp
fi
rm -f conftest*
fi
rm -f conftest*
fi
rm -f conftest*
  ac_cv_prog_CPP="$CPP"
fi
  CPP="$ac_cv_prog_CPP"
else
  ac_cv_prog_CPP="$CPP"
fi
echo "$ac_t""$CPP" 1>&6


if test $ac_cv_prog_gcc = yes; then
    echo $ac_n "checking whether ${CC-cc} needs -traditional""... $ac_c" 1>&6
echo "configure:1679: checking whether ${CC-cc} needs -traditional" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc_traditional'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    ac_pattern="Autoconf.*'x'"
  cat > conftest.$ac_ext <<EOF
#line 1685 "configure"
#include "confdefs.h"
#include <sgtty.h>
Autoconf TIOCGETP
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "$ac_pattern" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_prog_gcc_traditional=yes
else
  rm -rf conftest*
  ac_cv_prog_gcc_traditional=no
fi
rm -f conftest*


  if test $ac_cv_prog_gcc_traditional = no; then
    cat > conftest.$ac_ext <<EOF
#line 1703 "configure"
#include "confdefs.h"
#include <termio.h>
Autoconf TCGETA
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "$ac_pattern" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_prog_gcc_traditional=yes
fi
rm -f conftest*

  fi
fi

echo "$ac_t""$ac_cv_prog_gcc_traditional" 1>&6
  if test $ac_cv_prog_gcc_traditional = yes; then
    CC="$CC -traditional"
  fi
fi


echo $ac_n "checking for working const""... $ac_c" 1>&6
echo "configure:1726: checking for working const" >&5
if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1731 "configure"
#include "confdefs.h"

int main() {

/* Ultrix mips cc rejects this.  */
typedef int charset[2]; const charset x;
/* SunOS 4.1.1 cc rejects this.  */
char const *const *ccp;
char **p;
/* NEC SVR4.0.2 mips cc rejects this.  */
struct point {int x, y;};
static struct point const zero = {0,0};
/* AIX XL C 1.02.0.0 rejects this.
   It does not let you subtract one const X* pointer from another in an arm
   of an if-expression whose if-part is not a constant expression */
const char *g = "string";
ccp = &g + (g ? g-g : 0);
/* HPUX 7.0 cc rejects these. */
++ccp;
p = (char**) ccp;
ccp = (char const *const *) p;
{ /* SCO 3.2v4 cc rejects this.  */
  char *t;
  char const *s = 0 ? (char *) 0 : (char const *) 0;

  *t++ = 0;
}
{ /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
  int x[] = {25, 17};
  const int *foo = &x[0];
  ++foo;
}
{ /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
  typedef const int *iptr;
  iptr p = 0;
  ++p;
}
{ /* AIX XL C 1.02.0.0 rejects this saying
     "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
  struct s { int j; const int *ap[3]; };
  struct s *b; b->j = 5;
}
{ /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
  const int foo = 10;
}

; return 0; }
EOF
if { (eval echo configure:1780: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_c_const=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_c_const=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_c_const" 1>&6
if test $ac_cv_c_const = no; then
  cat >> confdefs.h <<\EOF
#define const 
EOF

fi

echo $ac_n "checking for inline""... $ac_c" 1>&6
echo "configure:1801: checking for inline" >&5
if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat > conftest.$ac_ext <<EOF
#line 1808 "configure"
#include "confdefs.h"

int main() {
} $ac_kw foo() {
; return 0; }
EOF
if { (eval echo configure:1815: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_c_inline=$ac_kw; break
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -f conftest*
done

fi

echo "$ac_t""$ac_cv_c_inline" 1>&6
case "$ac_cv_c_inline" in
  inline | yes) ;;
  no) cat >> confdefs.h <<\EOF
#define inline 
EOF
 ;;
  *)  cat >> confdefs.h <<EOF
#define inline $ac_cv_c_inline
EOF
 ;;
esac




ac_ext=C
# CXXFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='${CXX-g++} -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cxx_cross


CXXFLAGS=${CXXFLAGS=}	# magic incantation so CXXFLAGS not set by AC_PROG_CXX

for ac_prog in $CCC c++ g++ gcc CC cxx cc++ cl
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1858: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CXX'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CXX"; then
  ac_cv_prog_CXX="$CXX" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CXX="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CXX="$ac_cv_prog_CXX"
if test -n "$CXX"; then
  echo "$ac_t""$CXX" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$CXX" && break
done
test -n "$CXX" || CXX="gcc"


echo $ac_n "checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:1890: checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) works" >&5

ac_ext=C
# CXXFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='${CXX-g++} -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cxx_cross

cat > conftest.$ac_ext << EOF

#line 1901 "configure"
#include "confdefs.h"

int main(){return(0);}
EOF
if { (eval echo configure:1906: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cxx_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cxx_cross=no
  else
    ac_cv_prog_cxx_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cxx_works=no
fi
rm -fr conftest*
ac_ext=C
# CXXFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='${CXX-g++} -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cxx_cross

echo "$ac_t""$ac_cv_prog_cxx_works" 1>&6
if test $ac_cv_prog_cxx_works = no; then
  { echo "configure: error: installation or configuration problem: C++ compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:1932: checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cxx_cross" 1>&6
cross_compiling=$ac_cv_prog_cxx_cross

echo $ac_n "checking whether we are using GNU C++""... $ac_c" 1>&6
echo "configure:1937: checking whether we are using GNU C++" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gxx'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.C <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1946: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gxx=yes
else
  ac_cv_prog_gxx=no
fi
fi

echo "$ac_t""$ac_cv_prog_gxx" 1>&6

if test $ac_cv_prog_gxx = yes; then
  GXX=yes
else
  GXX=
fi

ac_test_CXXFLAGS="${CXXFLAGS+set}"
ac_save_CXXFLAGS="$CXXFLAGS"
CXXFLAGS=
echo $ac_n "checking whether ${CXX-g++} accepts -g""... $ac_c" 1>&6
echo "configure:1965: checking whether ${CXX-g++} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cxx_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.cc
if test -z "`${CXX-g++} -g -c conftest.cc 2>&1`"; then
  ac_cv_prog_cxx_g=yes
else
  ac_cv_prog_cxx_g=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_prog_cxx_g" 1>&6
if test "$ac_test_CXXFLAGS" = set; then
  CXXFLAGS="$ac_save_CXXFLAGS"
elif test $ac_cv_prog_cxx_g = yes; then
  if test "$GXX" = yes; then
    CXXFLAGS="-g -O2"
  else
    CXXFLAGS="-g"
  fi
else
  if test "$GXX" = yes; then
    CXXFLAGS="-O2"
  else
    CXXFLAGS=
  fi
fi


case "$GXX" in yes)
	echo $ac_n "checking whether ${CXX-g++} accepts -fno-exceptions""... $ac_c" 1>&6
echo "configure:1999: checking whether ${CXX-g++} accepts -fno-exceptions" >&5
if eval "test \"`echo '$''{'m_cv_gxx_exceptions'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' >conftest.cc
		case "`${CXX-g++} -fno-exceptions -c conftest.cc 2>&1`" in
		'')	m_cv_gxx_exceptions=yes ;;
		*)	m_cv_gxx_exceptions=no ;;
		esac
		rm -f conftest*
fi

echo "$ac_t""$m_cv_gxx_exceptions" 1>&6
	case "$m_cv_gxx_exceptions" in yes)
		CXXFLAGS="$CXXFLAGS -fno-exceptions"
	esac

		echo $ac_n "checking whether ${CXX-g++} accepts -fno-rtti""... $ac_c" 1>&6
echo "configure:2017: checking whether ${CXX-g++} accepts -fno-rtti" >&5
if eval "test \"`echo '$''{'m_cv_gxx_rtti'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' >conftest.cc
		case "`${CXX-g++} -fno-rtti -c conftest.cc 2>&1`" in
		'')	m_cv_gxx_rtti=yes ;;
		*)	m_cv_gxx_rtti=no ;;
		esac
		rm -f conftest*
fi

echo "$ac_t""$m_cv_gxx_rtti" 1>&6
	case "$m_cv_gxx_rtti" in yes)
		CXXFLAGS="$CXXFLAGS -fno-rtti"
	esac
esac

echo $ac_n "checking if ${CXX} supports logical operator names""... $ac_c" 1>&6
echo "configure:2036: checking if ${CXX} supports logical operator names" >&5
if eval "test \"`echo '$''{'m_cv_cxx_opernames'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'int f(int a, int b){return not a or b;}' >conftest.cc
	if ${CXX} -c conftest.cc >/dev/null 2>&1
	then	m_cv_cxx_opernames=yes
	else	m_cv_cxx_opernames=no
	fi
	rm -f conftest*
fi

echo "$ac_t""$m_cv_cxx_opernames" 1>&6





case "$m_cv_cxx_opernames" in yes)
				echo $ac_n "checking if ${CXX} can redefine logical operator names""... $ac_c" 1>&6
echo "configure:2056: checking if ${CXX} can redefine logical operator names" >&5
if eval "test \"`echo '$''{'m_cv_cxx_redefineopernames'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo '#define or m_or' >conftest.cc
		if ${CXX} -c conftest.cc >/dev/null 2>&1
		then	m_cv_cxx_redefineopernames=yes
		else	m_cv_cxx_redefineopernames=no
		fi
		rm -f conftest*
fi

echo "$ac_t""$m_cv_cxx_redefineopernames" 1>&6
			case "$m_cv_cxx_redefineopernames" in
	yes)	cat >> confdefs.h <<\EOF
#define M_LOGICAL_OP_NAMES 1
EOF
 ;;
	no)	echo $ac_n "checking if logical operator names can be disabled""... $ac_c" 1>&6
echo "configure:2075: checking if logical operator names can be disabled" >&5
if eval "test \"`echo '$''{'m_cv_cxx_disableopernames'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GXX" in
	yes)	echo 'void f(){}' >conftest.cc
		case "`${CXX-g++} -c -fno-operator-names conftest.cc 2>&1`" in
		'')	m_cv_cxx_disableopernames="-fno-operator-names"
		esac
		rm -f conftest* ;;
	esac
	### other tests here???
	case "$m_cv_cxx_disableopernames" in '')
		m_cv_cxx_disableopernames="none supported"
	esac
fi

echo "$ac_t""$m_cv_cxx_disableopernames" 1>&6
		case "$m_cv_cxx_disableopernames" in
		"none supported") 	{ echo "configure: error: Sorry, the c-client library used by Mahogany uses some
	names which your compiler treats as keywords (the new logical
	operator names: and, or, not, etc.).  We currently don't know a
	workaround for your compiler.  If it does accept some flag for
	disabling them, please go to http://mahogany.sourceforge.net/bugz
	and submit a bug against the Build component telling us which
	flag will work." 1>&2; exit 1; } ;;
		*) echo $ac_n "checking if disabling the logical operator names is buggy""... $ac_c" 1>&6
echo "configure:2102: checking if disabling the logical operator names is buggy" >&5
if eval "test \"`echo '$''{'m_cv_gcc_buggy_fno_operator_names'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GCC" in
	yes)	echo '#define TEST 1
#if defined(TEST)
#undef TEST
#endif' >conftest.cc
		case "`${CXX-g++} -c -fno-operator-names conftest.cc 2>&1`" in
		'')	m_cv_gcc_buggy_fno_operator_names="no" ;;
		*)  m_cv_gcc_buggy_fno_operator_names="yes" ;;
		esac
		rm -f conftest* ;;
	esac
fi

echo "$ac_t""$m_cv_gcc_buggy_fno_operator_names" 1>&6
			case "$m_cv_gcc_buggy_fno_operator_names" in
			yes)
			if test -f /etc/redhat-release -a ! grep "7\.0" /etc/redhat-release
			then workarroundmsg="
	It seems you are using Red Hat Linux 7.0. A workaround for your
	problem is to use egcs to compile wxWidgets and Mahogany:
		- at your bash prompt type:
			export CC=egcs
			export CXX=egcs++
		- reconfigure and rebuild wxWidgets and Mahogany
		(don't forget to remove the config.cache files
		located in the source code directories of
		wxWidgets and Mahogany before reconfiguring them."
			else workarroundmsg=""
			fi
			{ echo "configure: error: Sorry, it seems that you have a buggy gcc version which is
	not able to compile Mahogany (gcc-2.96-69 shipped by Red Hat with Red
	Hat Linux 7.0 is one of them). Please upgrade it.$workaroundmsg" 1>&2; exit 1; } ;;
			no)
            CXXFLAGS="$CXXFLAGS $m_cv_cxx_disableopernames"
            esac ;;
		esac ;;
	esac
esac

MAKE_USE_PCH=
if test "$GXX" = "yes"; then
    echo $ac_n "checking if ${CXX} supports precompiled headers""... $ac_c" 1>&6
echo "configure:2148: checking if ${CXX} supports precompiled headers" >&5
if eval "test \"`echo '$''{'m_cv_cxx_pch'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	    cat > conftest.$ac_ext <<EOF
#line 2154 "configure"
#include "confdefs.h"

int main() {

		    #if !defined(__GNUC__) || !defined(__GNUC_MINOR__)
			There is no PCH support
		    #endif
		    #if (__GNUC__ < 3)
			There is no PCH support
		    #endif
		    #if (__GNUC__ == 3) && (__GNUC_MINOR__ < 4)
			There is no PCH support
		    #endif
		
; return 0; }
EOF
if { (eval echo configure:2171: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  m_cv_cxx_pch=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  m_cv_cxx_pch=no
	    
fi
rm -f conftest*
	
    
fi

echo "$ac_t""$m_cv_cxx_pch" 1>&6

    if test "$m_cv_cxx_pch" = "yes"; then
	cat >> confdefs.h <<\EOF
#define USE_PCH 1
EOF

	MAKE_USE_PCH="USE_PCH=1"
    fi
fi



ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross



# Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2211: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
fi
fi
RANLIB="$ac_cv_prog_RANLIB"
if test -n "$RANLIB"; then
  echo "$ac_t""$RANLIB" 1>&6
else
  echo "$ac_t""no" 1>&6
fi


# Extract the first word of "m4", so it can be a program name with args.
set dummy m4; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2242: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_M4'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$M4" in
  /*)
  ac_cv_path_M4="$M4" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_M4="$M4" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_M4="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
M4="$ac_cv_path_M4"
if test -n "$M4"; then
  echo "$ac_t""$M4" 1>&6
else
  echo "$ac_t""no" 1>&6
fi


for ac_prog in byacc yacc 'bison -y'
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2280: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_YACC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$YACC"; then
  ac_cv_prog_YACC="$YACC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_YACC="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
YACC="$ac_cv_prog_YACC"
if test -n "$YACC"; then
  echo "$ac_t""$YACC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$YACC" && break
done
test -n "$YACC" || YACC="none"

if test "$YACC" = "none"; then
    echo "configure: warning: yacc not found, you will not be able to modify *.y files." 1>&2
    YACC=
fi

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# ./install, which can be erroneously created by make from ./install.sh.
echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
echo "configure:2327: checking for a BSD compatible install" >&5
if test -z "$INSTALL"; then
if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
  for ac_dir in $PATH; do
    # Account for people who put trailing slashes in PATH elements.
    case "$ac_dir/" in
    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
        if test -f $ac_dir/$ac_prog; then
	  if test $ac_prog = install &&
            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  else
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
	  fi
	fi
      done
      ;;
    esac
  done
  IFS="$ac_save_IFS"

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL="$ac_cv_path_install"
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL="$ac_install_sh"
  fi
fi
echo "$ac_t""$INSTALL" 1>&6

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'


echo $ac_n "checking whether ${MAKE-make} sets \${MAKE}""... $ac_c" 1>&6
echo "configure:2381: checking whether ${MAKE-make} sets \${MAKE}" >&5
set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftestmake <<\EOF
all:
	@echo 'ac_maketemp="${MAKE}"'
EOF
# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`
if test -n "$ac_maketemp"; then
  eval ac_cv_prog_make_${ac_make}_set=yes
else
  eval ac_cv_prog_make_${ac_make}_set=no
fi
rm -f conftestmake
fi
if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  SET_MAKE=
else
  echo "$ac_t""no" 1>&6
  SET_MAKE="MAKE=${MAKE-make}"
fi



cat >> confdefs.h <<\EOF
#define HAVE_PROTOTYPES 1
EOF


echo $ac_n "checking for variable length prototypes and stdarg.h""... $ac_c" 1>&6
echo "configure:2415: checking for variable length prototypes and stdarg.h" >&5
if eval "test \"`echo '$''{'m_cv_stdarg_prototypes'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2420 "configure"
#include "confdefs.h"
#include <stdarg.h>
	int foo(int x, ...) {
		va_list va;
		va_start(va, x);
		va_arg(va, int);
		va_arg(va, char *);
		va_arg(va, double);
		return 0;
	}
int main() {
return foo(10, "", 3.14);
; return 0; }
EOF
if { (eval echo configure:2435: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  m_cv_stdarg_prototypes=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  m_cv_stdarg_prototypes=no
fi
rm -f conftest*
fi

echo "$ac_t""$m_cv_stdarg_prototypes" 1>&6
case "$m_cv_stdarg_prototypes" in yes)
	cat >> confdefs.h <<\EOF
#define HAVE_STDARG_PROTOTYPES 1
EOF
esac

echo $ac_n "checking for bad exec* prototypes""... $ac_c" 1>&6
echo "configure:2455: checking for bad exec* prototypes" >&5
if eval "test \"`echo '$''{'m_cv_bad_exec'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2460 "configure"
#include "confdefs.h"
#include <unistd.h>
int main() {
char **t;execve("@",t,t);
; return 0; }
EOF
if { (eval echo configure:2467: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  m_cv_bad_exec=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  m_cv_bad_exec=no
fi
rm -f conftest*
fi

echo "$ac_t""$m_cv_bad_exec" 1>&6
case "$m_cv_bad_exec" in yes)
	cat >> confdefs.h <<\EOF
#define BAD_EXEC_PROTOTYPES 1
EOF
esac

echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:2487: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2492 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2500: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  ac_cv_header_stdc=yes
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 2517 "configure"
#include "confdefs.h"
#include <string.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 2535 "configure"
#include "confdefs.h"
#include <stdlib.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
if test "$cross_compiling" = yes; then
  :
else
  cat > conftest.$ac_ext <<EOF
#line 2556 "configure"
#include "confdefs.h"
#include <ctype.h>
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:2567: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  :
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
fi
rm -fr conftest*
fi

fi
fi

echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF

fi

echo $ac_n "checking for size_t""... $ac_c" 1>&6
echo "configure:2591: checking for size_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_size_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2596 "configure"
#include "confdefs.h"
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_size_t=yes
else
  rm -rf conftest*
  ac_cv_type_size_t=no
fi
rm -f conftest*

fi
echo "$ac_t""$ac_cv_type_size_t" 1>&6
if test $ac_cv_type_size_t = no; then
  cat >> confdefs.h <<\EOF
#define size_t unsigned
EOF

fi

echo $ac_n "checking whether struct tm is in sys/time.h or time.h""... $ac_c" 1>&6
echo "configure:2624: checking whether struct tm is in sys/time.h or time.h" >&5
if eval "test \"`echo '$''{'ac_cv_struct_tm'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2629 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <time.h>
int main() {
struct tm *tp; tp->tm_sec;
; return 0; }
EOF
if { (eval echo configure:2637: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_struct_tm=time.h
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_struct_tm=sys/time.h
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_struct_tm" 1>&6
if test $ac_cv_struct_tm = sys/time.h; then
  cat >> confdefs.h <<\EOF
#define TM_IN_SYS_TIME 1
EOF

fi

for ac_func in strsep
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2660: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2665 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2688: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done




case "$USE_EFENCE" in 1)
	echo $ac_n "checking for main in -lefence""... $ac_c" 1>&6
echo "configure:2717: checking for main in -lefence" >&5
ac_lib_var=`echo efence'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lefence  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2725 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:2732: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIB_EFENCE="-lefence"
else
  echo "$ac_t""no" 1>&6
echo "configure: warning: efence library configured but not available." 1>&2
fi

esac

case "$USE_DMALLOC" in
1) echo $ac_n "checking for main in -ldmalloc""... $ac_c" 1>&6
echo "configure:2757: checking for main in -ldmalloc" >&5
m_lib_var=`echo dmalloc'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'m_cv_lib_$m_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_save_LIBS="$LIBS"
for j in "."  /usr/lib /usr/local/lib $prefix/lib  ; do
LIBS="-L$j -ldmalloc  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2766 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:2773: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=\"libpath_$m_lib_var=-L$j\"" 
             eval eval "`echo '$m_cv_lib_'$m_lib_var`"
             LIBS="$m_save_LIBS"
             break
            
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=no"
fi
rm -f conftest*
LIBS="$m_save_LIBS"
done

fi
if eval "test \"`echo '$m_cv_lib_'$m_lib_var`\" != no"; then
  if test x$j = "x."; then
    unset j
  fi
  echo "$ac_t""yes (in ${j-standard location})" 1>&6
  eval eval "`echo '$m_cv_lib_'$m_lib_var`"
  
	LIB_DMALLOC="-ldmalloc"
	cat >> confdefs.h <<\EOF
#define USE_DMALLOC 1
EOF

    
else
  echo "$ac_t""no" 1>&6
  echo "configure: warning: dmalloc library not available" 1>&2
   fi

esac

case "$USE_LEAKTRACER" in
1)	MAKE_USE_LEAKTRACER="USE_LEAKTRACER=yes" ;;
*)	MAKE_USE_LEAKTRACER="" ;;
esac



case "$USE_DEBUG" in
0|'')	DEBUG_OPTS="" ;;
1)	DEBUG_OPTS="${USER-$LOGNAME}" ;;
*)	DEBUG_OPTS="`echo $USE_DEBUG | tr -s -- '-,/:+ ' '_ '`" ;;
esac

MAKE_DEBUG='DEBUG :='
case "$DEBUG_OPTS" in '') ;; *)
	cat >> confdefs.h <<\EOF
#define DEBUG 1
EOF

	CPPFLAGS="$CPPFLAGS -DDEBUG"
	for i in $DEBUG_OPTS
	do	CPPFLAGS="$CPPFLAGS -DDEBUG_$i"
		MAKE_DEBUG="$MAKE_DEBUG $i"
	done  
	USE_DEBUG_INFO=1
esac


if test "$USE_WXDEBUG" = 1; then
   USE_OPT=0
   fi

case "$USE_DEBUG_INFO.$GXX.$ac_cv_prog_cc_g" in
1.yes.*)	CODE_GEN_FLAGS="$CODE_GEN_FLAGS -g3" 
		USE_OPT=0 ;;
1.no.yes)	CODE_GEN_FLAGS="$CODE_GEN_FLAGS -g" ;;
esac

if test "$USE_I18N" = 1; then
   cat >> confdefs.h <<\EOF
#define USE_I18N 1
EOF

fi


case "$USE_OPT" in
1)	CODE_GEN_FLAGS="$CODE_GEN_FLAGS -O2" ;;
*)	CODE_GEN_FLAGS="$CODE_GEN_FLAGS -O0" ;;
esac


case "$USE_PROFILER" in 1)
	CODE_GEN_FLAGS="$CODE_GEN_FLAGS -pg"
	LDFLAGS="$LDFLAGS -pg"
esac

case "$USE_EXPERIMENTAL" in
0|'')	EXPERIMENTAL="" ;;
1)	EXPERIMENTAL="${USER-$LOGNAME}" ;;
*)	EXPERIMENTAL="`echo $USE_EXPERIMENTAL | tr -s -- '-,/:+ ' '_ '`" ;;
esac

MAKE_EXPERIMENTAL='EXPERIMENTAL :='
case "$EXPERIMENTAL" in '') ;; *)
	# including this on the command line interferes
	# with its usage in wxMDialogs.cpp
	#CPPFLAGS="$CPPFLAGS -DEXPERIMENTAL"
	for i in $EXPERIMENTAL
	do	CPPFLAGS="$CPPFLAGS -DEXPERIMENTAL_$i"
		MAKE_EXPERIMENTAL="$MAKE_EXPERIMENTAL $i"
	done  
esac


if test "x$USE_DIALUP" = "x1"; then
    cat >> confdefs.h <<\EOF
#define USE_DIALUP 1
EOF

fi


case "$USE_SSL" in
0)	ssl_option=no
	;;

1|/*)			case "$USE_SSL" in
	/*/include) ssl_inc="$USE_SSL" ;;
	/*)	ssl_inc="$USE_SSL/include" ;;
	*)	# explicitly using -/usr/local/include is a bad idea with gcc,
		# it complains about it ("changing the order of system
		# directories search")
		if test "$prefix" != "/usr/local"; then
		    ssl_inc="$prefix/include"
		fi
		;;
	esac

																						SSL_CPPFLAGS="-DNO_IDEA -DNO_DSA -DOPENSSL_NO_KRB5"

	CPPFLAGS_OLD=$CPPFLAGS
	CPPFLAGS="${CPPFLAGS} ${SSL_CPPFLAGS} -I${ssl_inc} -I/usr/ssl/include -I/usr/local/ssl/include"
	 m_safe=`echo "ssl.h" | sed 'y%./+-%__p_%'`
    echo $ac_n "checking for ssl.h""... $ac_c" 1>&6
echo "configure:2916: checking for ssl.h" >&5
    if eval "test \"`echo '$''{'m_cv_header_$m_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
   m_save_CPPFLAGS="$CPPFLAGS"
        for j in "."  \
		$ssl_inc/openssl \
		/usr/include/openssl \
		/usr/ssl/include/openssl \
		/usr/local/include/openssl \
		/usr/local/ssl/include/openssl \
	 ; do
           CPPFLAGS="-I$j $CPPFLAGS"
           cat > conftest.$ac_ext <<EOF
#line 2930 "configure"
#include "confdefs.h"
             #include <ssl.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2935: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  
               if test "$j" = "."; then
                  j="/usr/include"
               fi
               eval "m_cv_header_$m_safe=$j"
               CPPFLAGS="$m_save_CPPFLAGS"
               break
             
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   eval "m_cv_header_$m_safe=no" 
           
fi
rm -f conftest*
           CPPFLAGS="$m_save_CPPFLAGS"
        done
      
    
fi

    if eval "test \"`echo '$m_cv_header_'$m_safe`\" != no"; then
              dir=`eval echo $\`eval echo m_cv_header_$m_safe\``
       if test x$dir != x"/usr/include"; then
         dirshow=$dir
         eval "CPPFLAGS=\"-I$dir $CPPFLAGS\""
       fi
       echo "$ac_t""yes (in ${dirshow-standard location})" 1>&6
       
	   ssl_option=yes
	   ssl_inc=$m_cv_header_ssl_h
	
    else
       echo "$ac_t""no" 1>&6
       ssl_option=no
	    fi
  


	CPPFLAGS=$CPPFLAGS_OLD

	if test "$ssl_option" != "no"; then
	    	    ssl_inc=`echo $ssl_inc | sed 's@/openssl$@@'`
	    ssl_lib=`echo $ssl_inc | sed 's@include$@lib@'`

	    LIBS_SSL=""

	    	    	    echo $ac_n "checking for main in -lcrypto""... $ac_c" 1>&6
echo "configure:2989: checking for main in -lcrypto" >&5
m_lib_var=`echo crypto'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'m_cv_lib_$m_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_save_LIBS="$LIBS"
for j in "."  \
		    $ssl_lib \
		    /usr/lib \
		    /usr/local/lib \
		    /home/local/lib \
		 ; do
LIBS="-L$j -lcrypto  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3003 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3010: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=\"libpath_$m_lib_var=-L$j\"" 
             eval eval "`echo '$m_cv_lib_'$m_lib_var`"
             LIBS="$m_save_LIBS"
             break
            
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=no"
fi
rm -f conftest*
LIBS="$m_save_LIBS"
done

fi
if eval "test \"`echo '$m_cv_lib_'$m_lib_var`\" != no"; then
  if test x$j = "x."; then
    unset j
  fi
  echo "$ac_t""yes (in ${j-standard location})" 1>&6
  eval eval "`echo '$m_cv_lib_'$m_lib_var`"
  LIBS_SSL="$libpath_crypto_main -lcrypto"
	    
else
  echo "$ac_t""no" 1>&6
  fi


	    	    echo $ac_n "checking for main in -lssl""... $ac_c" 1>&6
echo "configure:3042: checking for main in -lssl" >&5
m_lib_var=`echo ssl'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'m_cv_lib_$m_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_save_LIBS="$LIBS"
for j in "."  \
		    $ssl_lib \
		    /usr/lib \
		    /usr/local/lib \
		    /home/local/lib \
		 ; do
LIBS="-L$j -lssl $LIBS_SSL
	     $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3057 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3064: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=\"libpath_$m_lib_var=-L$j\"" 
             eval eval "`echo '$m_cv_lib_'$m_lib_var`"
             LIBS="$m_save_LIBS"
             break
            
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=no"
fi
rm -f conftest*
LIBS="$m_save_LIBS"
done

fi
if eval "test \"`echo '$m_cv_lib_'$m_lib_var`\" != no"; then
  if test x$j = "x."; then
    unset j
  fi
  echo "$ac_t""yes (in ${j-standard location})" 1>&6
  eval eval "`echo '$m_cv_lib_'$m_lib_var`"
  LIBS_SSL="$LIBS_SSL $libpath_ssl_main -lssl"
else
  echo "$ac_t""no" 1>&6
  ssl_option=nodnl
fi

	fi

		if test "$ssl_option" != "no"; then
	    echo $ac_n "checking for socket""... $ac_c" 1>&6
echo "configure:3098: checking for socket" >&5
if eval "test \"`echo '$''{'ac_cv_func_socket'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3103 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char socket(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_socket) || defined (__stub___socket)
choke me
#else
socket();
#endif

; return 0; }
EOF
if { (eval echo configure:3126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_socket=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_socket=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'socket`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
echo "configure:3144: checking for socket in -lsocket" >&5
ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lsocket  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3152 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
EOF
if { (eval echo configure:3163: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo socket | sed -e 's/^a-zA-Z0-9_/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lsocket $LIBS"

else
  echo "$ac_t""no" 1>&6
ssl_option=no
fi

fi

	    echo $ac_n "checking for gethostname""... $ac_c" 1>&6
echo "configure:3194: checking for gethostname" >&5
if eval "test \"`echo '$''{'ac_cv_func_gethostname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3199 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostname(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostname) || defined (__stub___gethostname)
choke me
#else
gethostname();
#endif

; return 0; }
EOF
if { (eval echo configure:3222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_gethostname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_gethostname=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'gethostname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for gethostname in -lresolv""... $ac_c" 1>&6
echo "configure:3240: checking for gethostname in -lresolv" >&5
ac_lib_var=`echo resolv'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lresolv  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3248 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:3259: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo resolv | sed -e 's/^a-zA-Z0-9_/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lresolv $LIBS"

else
  echo "$ac_t""no" 1>&6
ssl_option=no
fi

fi

	    echo $ac_n "checking for gethostbyname""... $ac_c" 1>&6
echo "configure:3290: checking for gethostbyname" >&5
if eval "test \"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3295 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostbyname(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostbyname();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostbyname) || defined (__stub___gethostbyname)
choke me
#else
gethostbyname();
#endif

; return 0; }
EOF
if { (eval echo configure:3318: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_gethostbyname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_gethostbyname=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'gethostbyname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for gethostbyname in -lnsl""... $ac_c" 1>&6
echo "configure:3336: checking for gethostbyname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lnsl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3344 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostbyname();

int main() {
gethostbyname()
; return 0; }
EOF
if { (eval echo configure:3355: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo nsl | sed -e 's/^a-zA-Z0-9_/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lnsl $LIBS"

else
  echo "$ac_t""no" 1>&6
ssl_option=no
fi

fi

	fi

	case "$ssl_option" in
	no*) 	echo "configure: warning: Cannot find libraries for SSL - SSL support disabled" 1>&2
		;;
	esac
	;;
*)	echo "configure: warning: --with-ssl=$USE_SSL ignored, you must specify absolute path" 1>&2
	ssl_option=no ;;
esac

if test "$ssl_option" = "yes"; then
    cat >> confdefs.h <<\EOF
#define USE_SSL 1
EOF


                    case "$ssl_inc" in
	/usr/include)
	    	    ;;
	*)
	    SSL_CPPFLAGS="-I$ssl_inc $SSL_CPPFLAGS"
    esac

    IMAP_CFLAGS="-I$ssl_inc/openssl $SSL_CPPFLAGS $IMAP_CFLAGS"
    CPPFLAGS="$SSL_CPPFLAGS $CPPFLAGS"

                IMAP_SSLTYPE="unix"
else
        IMAP_SSLTYPE="none"
fi




echo $ac_n "checking for main in -ldl""... $ac_c" 1>&6
echo "configure:3421: checking for main in -ldl" >&5
ac_lib_var=`echo dl'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-ldl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3429 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3436: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo dl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-ldl $LIBS"

else
  echo "$ac_t""no" 1>&6
fi


echo $ac_n "checking for crypt""... $ac_c" 1>&6
echo "configure:3465: checking for crypt" >&5
if eval "test \"`echo '$''{'ac_cv_func_crypt'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3470 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char crypt(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char crypt();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_crypt) || defined (__stub___crypt)
choke me
#else
crypt();
#endif

; return 0; }
EOF
if { (eval echo configure:3493: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_crypt=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_crypt=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'crypt`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for crypt in -lcrypt""... $ac_c" 1>&6
echo "configure:3511: checking for crypt in -lcrypt" >&5
ac_lib_var=`echo crypt'_'crypt | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lcrypt  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3519 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char crypt();

int main() {
crypt()
; return 0; }
EOF
if { (eval echo configure:3530: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo crypt | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lcrypt $LIBS"

else
  echo "$ac_t""no" 1>&6
{ echo "configure: error: Cannot find crypt function.
It appears that the c library does not contain it, nor is libcrypt
installed on your system.  It is needed for password authentication,
so before compiling Mahogany, you need to install libcrypt.  You
can download the source for a suitable libcrypt from the Mahogany
ftp server (ftp://ronnie.phy.hw.ac.uk/pub/Mahogany/Libraries)." 1>&2; exit 1; }
fi

fi
 

echo $ac_n "checking for main in -lshadow""... $ac_c" 1>&6
echo "configure:3567: checking for main in -lshadow" >&5
ac_lib_var=`echo shadow'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lshadow  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3575 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3582: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo shadow | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lshadow $LIBS"

else
  echo "$ac_t""no" 1>&6
fi


USE_RBL=1
echo $ac_n "checking for res_query""... $ac_c" 1>&6
echo "configure:3612: checking for res_query" >&5
if eval "test \"`echo '$''{'ac_cv_func_res_query'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3617 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char res_query(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char res_query();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_res_query) || defined (__stub___res_query)
choke me
#else
res_query();
#endif

; return 0; }
EOF
if { (eval echo configure:3640: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_res_query=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_res_query=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'res_query`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for res_query in -lresolv""... $ac_c" 1>&6
echo "configure:3658: checking for res_query in -lresolv" >&5
ac_lib_var=`echo resolv'_'res_query | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lresolv  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3666 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char res_query();

int main() {
res_query()
; return 0; }
EOF
if { (eval echo configure:3677: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo resolv | sed -e 's/^a-zA-Z0-9_/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lresolv $LIBS"

else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for res_query in -lbind""... $ac_c" 1>&6
echo "configure:3703: checking for res_query in -lbind" >&5
ac_lib_var=`echo bind'_'res_query | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lbind  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3711 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char res_query();

int main() {
res_query()
; return 0; }
EOF
if { (eval echo configure:3722: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo bind | sed -e 's/^a-zA-Z0-9_/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lbind $LIBS"

else
  echo "$ac_t""no" 1>&6
echo "configure: warning: cannot use RBL spam checker." 1>&2; USE_RBL=0
fi

fi

fi

case "$USE_RBL" in 1) cat >> confdefs.h <<\EOF
#define USE_RBL 1
EOF
 ;; esac


PYTHON_VER=

case "$USE_PYTHON" in
static|Static|STATIC|dynamic|Dynamic|DYNAMIC|1)
	for ver in 2.5 2.4 2.3 2.2 2.1 2.0 1.5; do
	     m_safe=`echo "Python.h_$ver" | sed 'y%./+-%__p_%'`
    echo $ac_n "checking for Python.h ($ver)""... $ac_c" 1>&6
echo "configure:3767: checking for Python.h ($ver)" >&5
    if eval "test \"`echo '$''{'m_cv_header_$m_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
   m_save_CPPFLAGS="$CPPFLAGS"
        for j in "."  \
		    $prefix/include/python$ver \
		    /usr/include/python$ver \
		    /usr/local/include/python$ver \
		    /System/Library/Frameworks/Python.framework/Versions/$ver/include/python$ver \
		 ; do
           CPPFLAGS="-I$j $CPPFLAGS"
           cat > conftest.$ac_ext <<EOF
#line 3780 "configure"
#include "confdefs.h"
             #include <Python.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:3785: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  
               if test "$j" = "."; then
                  j="/usr/include"
               fi
               eval "m_cv_header_$m_safe=$j"
               CPPFLAGS="$m_save_CPPFLAGS"
               break
             
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   eval "m_cv_header_$m_safe=no" 
           
fi
rm -f conftest*
           CPPFLAGS="$m_save_CPPFLAGS"
        done
      
    
fi

    if eval "test \"`echo '$m_cv_header_'$m_safe`\" != no"; then
              dir=`eval echo $\`eval echo m_cv_header_$m_safe\``
       echo "$ac_t""yes (in $dir)" 1>&6
       eval "CPPFLAGS=\"-I$dir $CPPFLAGS\""
       
		    PYTHON_VER=$ver
		    break
		
	    
    else
       echo "$ac_t""no" 1>&6
           fi
  

	done
	if test "x$PYTHON_VER" = "x"; then
	    USE_PYTHON=0
	fi
	;;

none|0)
	USE_PYTHON=0
	;;

*)
	USE_PYTHON=0
	echo "configure: warning: Unrecognized --with-python option value." 1>&2
	;;
esac

case "$USE_PYTHON" in
dynamic|Dynamic|DYNAMIC)
	if test "$USE_MAC" = 1; then
	    { echo "configure: error: Dynamic Python loading is not supported under Mac OS" 1>&2; exit 1; }
	fi
	cat >> confdefs.h <<\EOF
#define USE_PYTHON_DYNAMIC 1
EOF

	;;

static|Static|STATIC|1)
	if test "$USE_MAC" = 1; then
	    PYTHON_LIBS="-framework Python"
	    echo $ac_n "checking if we can link with Python framework""... $ac_c" 1>&6
echo "configure:3857: checking if we can link with Python framework" >&5
if eval "test \"`echo '$''{'m_cv_framework_python'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
			    LIBS_OLD=$LIBS
			    LIBS="$LIBS $PYTHON_LIBS"
			    cat > conftest.$ac_ext <<EOF
#line 3865 "configure"
#include "confdefs.h"
#include "python.h"
int main() {
Py_Initialize();
; return 0; }
EOF
if { (eval echo configure:3872: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  m_cv_framework_python=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  m_cv_framework_python=no
fi
rm -f conftest*
			    LIBS="$LIBS_OLD"
			   
fi

echo "$ac_t""$m_cv_framework_python" 1>&6
	    if test "$m_cv_framework_python" != "yes"; then
		PYTHON_LIBS=""
	    fi
	fi

	if test "x$PYTHON_LIBS" = "x"; then
	    echo $ac_n "checking for main in -lpython$PYTHON_VER""... $ac_c" 1>&6
echo "configure:3894: checking for main in -lpython$PYTHON_VER" >&5
m_lib_var=`echo python$PYTHON_VER'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'m_cv_lib_$m_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  m_save_LIBS="$LIBS"
for j in "."  \
		$prefix/lib \
		$prefix/lib/python$PYTHON_VER \
		$prefix/lib/python$PYTHON_VER/config \
		/usr/lib \
		/usr/lib/python$PYTHON_VER \
		/usr/lib/python$PYTHON_VER/config \
		/usr/local/lib \
		/usr/local/lib/python$PYTHON_VER \
		/usr/local/lib/python$PYTHON_VER/config \
	     ; do
LIBS="-L$j -lpython$PYTHON_VER  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3913 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3920: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=\"libpath_$m_lib_var=-L$j\"" 
             eval eval "`echo '$m_cv_lib_'$m_lib_var`"
             LIBS="$m_save_LIBS"
             break
            
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "m_cv_lib_$m_lib_var=no"
fi
rm -f conftest*
LIBS="$m_save_LIBS"
done

fi
if eval "test \"`echo '$m_cv_lib_'$m_lib_var`\" != no"; then
  if test x$j = "x."; then
    unset j
  fi
  echo "$ac_t""yes (in ${j-standard location})" 1>&6
  eval eval "`echo '$m_cv_lib_'$m_lib_var`"
  
		VARNAME="libpath_python`echo $PYTHON_VER | sed 's/\./_/'`_main"
		PYTHON_LIBS="`eval echo $\`echo $VARNAME\`` -lpython$PYTHON_VER"
	    
else
  echo "$ac_t""no" 1>&6
  
		USE_PYTHON=0
	    fi

	    if test "$USE_PYTHON" != 0; then
				case "$OSTYPE" in freebsd* | FreeBSD*)
		    PYTHON_LIBS="-lreadline $PYTHON_LIBS"
		    ;;
		esac

						if test "$PYTHON_VER" != "1.5"; then
		    echo $ac_n "checking for openpty""... $ac_c" 1>&6
echo "configure:3962: checking for openpty" >&5
if eval "test \"`echo '$''{'ac_cv_func_openpty'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3967 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char openpty(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_openpty) || defined (__stub___openpty)
choke me
#else
openpty();
#endif

; return 0; }
EOF
if { (eval echo configure:3990: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_openpty=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_openpty=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'openpty`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:4008: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lutil  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 4016 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {
openpty()
; return 0; }
EOF
if { (eval echo configure:4027: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  PYTHON_LIBS="-lutil $PYTHON_LIBS"
else
  echo "$ac_t""no" 1>&6
fi

fi

		fi
	    fi
	fi
	;;

0)
	;;

*)
	echo "configure: warning: configure logic error" 1>&2
	;;
esac

case "$USE_PYTHON" in
0)	MAKE_USE_PYTHON=''
	echo "configure: warning: Mahogany will be built without embedded Python interpreter" 1>&2
	PYTHON_LIBS=''
	PYTHON_VER=""
	;;

*)	cat >> confdefs.h <<\EOF
#define USE_PYTHON 1
EOF

	MAKE_USE_PYTHON="USE_PYTHON=yes"
	if test "x$USE_SWIG" = "x1"; then
	    	    	    swig_min_ver=1.3.25

	    # Extract the first word of "swig", so it can be a program name with args.
set dummy swig; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4080: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_SWIG'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$SWIG" in
  /*)
  ac_cv_path_SWIG="$SWIG" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_SWIG="$SWIG" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_SWIG="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
SWIG="$ac_cv_path_SWIG"
if test -n "$SWIG"; then
  echo "$ac_t""$SWIG" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	    if test "x$SWIG" = "x"; then
		echo "configure: warning: 
*** Cannot find SWIG -- will use precompiled files for Python support.
*** If you want to modify the interface files, please install SWIG >= $swig_min_ver." 1>&2
		USE_SWIG=0
	    else
		echo $ac_n "checking for swig version""... $ac_c" 1>&6
echo "configure:4119: checking for swig version" >&5
		swig_ver=`$SWIG -version 2>&1 | grep 'SWIG Version' | sed 's/SWIG Version //'`
		echo "$ac_t""$swig_ver" 1>&6

		case "$swig_ver" in
		    1.1.* | 1.2.* )
			swig_ver_status="old"
			;;

		    1.3.*)
			swig_ver_micro=`echo $swig_ver | sed 's/1\.3\.//'`
			if test $swig_ver_micro -lt 25; then
			    swig_ver_status="old"
			elif test $swig_ver_micro -gt 36; then
			    swig_ver_status="new"
			fi
			;;

		    2-9*.0-9*.0-9*)
			swig_ver_status="new"
			;;

		    *)
			echo "configure: warning: Unrecognized swig version format "$swig_ver"" 1>&2
			swig_ver_status="bad"
			;;
		esac

		case "$swig_ver_status" in
		    bad )
			echo "configure: warning: 
*** Version of your swig program ($SWIG) couldn't be determined, please report
*** this to us. Assuming it does not work and continuing without swig." 1>&2
			USE_SWIG=0
			;;

		    old )
			echo "configure: warning: 
*** Your swig program ($SWIG) is version $swig_ver but at least $swig_min_ver is required." 1>&2
			USE_SWIG=0
			;;

		    new )
			echo "configure: warning: 
*** Your swig program ($SWIG) is version $swig_ver but the last tested
*** version is 1.3.36 -- still continuing hoping that it is going to work,
*** but if it doesn't, please rerun configure with --without-swig option." 1>&2
			;;
		esac
	    fi
	fi
	;;
esac


MAKE_XLATE='TRANSLATIONS := yes'
# Extract the first word of "xgettext", so it can be a program name with args.
set dummy xgettext; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4178: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$XGETTEXT" in
  /*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_XGETTEXT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
XGETTEXT="$ac_cv_path_XGETTEXT"
if test -n "$XGETTEXT"; then
  echo "$ac_t""$XGETTEXT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

# Extract the first word of "msgmerge", so it can be a program name with args.
set dummy msgmerge; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4213: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MSGMERGE'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$MSGMERGE" in
  /*)
  ac_cv_path_MSGMERGE="$MSGMERGE" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_MSGMERGE="$MSGMERGE" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_MSGMERGE="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
MSGMERGE="$ac_cv_path_MSGMERGE"
if test -n "$MSGMERGE"; then
  echo "$ac_t""$MSGMERGE" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

case ".$XGETTEXT.$MSGMERGE." in *..*)
	echo "configure: warning: cannot rebuild message translations.
		    You must install xgettext/msgmerge in order to do it." 1>&2
	MAKE_XLATE='TRANSLATIONS := no'
esac


# compile/install binary translations
# Extract the first word of "msgfmt", so it can be a program name with args.
set dummy msgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4256: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$MSGFMT" in
  /*)
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_MSGFMT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
MSGFMT="$ac_cv_path_MSGFMT"
if test -n "$MSGFMT"; then
  echo "$ac_t""$MSGFMT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

case "$MSGFMT" in '')
	echo "configure: warning: cannot compile message translations.
		    Binary translations will not be installed.  You need the
		    'msgfmt' program to compile message translations." 1>&2 ;;
esac


MIN_WX_VERSION=2.8.4

wxlibs=html,adv,qa,core,xml,net,base


    
    if test x${WX_CONFIG_NAME+set} != xset ; then
     WX_CONFIG_NAME=wx-config
  fi

  if test "x$wx_config_name" != x ; then
     WX_CONFIG_NAME="$wx_config_name"
  fi

    if test x$wx_config_exec_prefix != x ; then
     wx_config_args="$wx_config_args --exec-prefix=$wx_config_exec_prefix"
     WX_LOOKUP_PATH="$wx_config_exec_prefix/bin"
  fi
  if test x$wx_config_prefix != x ; then
     wx_config_args="$wx_config_args --prefix=$wx_config_prefix"
     WX_LOOKUP_PATH="$WX_LOOKUP_PATH:$wx_config_prefix/bin"
  fi
  if test "$cross_compiling" = "yes"; then
     wx_config_args="$wx_config_args --host=$host_alias"
  fi

    if test -x "$WX_CONFIG_NAME" ; then
     echo $ac_n "checking for wx-config""... $ac_c" 1>&6
echo "configure:4323: checking for wx-config" >&5
     WX_CONFIG_PATH="$WX_CONFIG_NAME"
     echo "$ac_t""$WX_CONFIG_PATH" 1>&6
  else
     # Extract the first word of "$WX_CONFIG_NAME", so it can be a program name with args.
set dummy $WX_CONFIG_NAME; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4330: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_WX_CONFIG_PATH'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$WX_CONFIG_PATH" in
  /*)
  ac_cv_path_WX_CONFIG_PATH="$WX_CONFIG_PATH" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_WX_CONFIG_PATH="$WX_CONFIG_PATH" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy=""$WX_LOOKUP_PATH:$PATH""
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_WX_CONFIG_PATH="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_WX_CONFIG_PATH" && ac_cv_path_WX_CONFIG_PATH="no"
  ;;
esac
fi
WX_CONFIG_PATH="$ac_cv_path_WX_CONFIG_PATH"
if test -n "$WX_CONFIG_PATH"; then
  echo "$ac_t""$WX_CONFIG_PATH" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  fi

  if test "$WX_CONFIG_PATH" != "no" ; then
    WX_VERSION=""

    min_wx_version=$MIN_WX_VERSION
    if test -z "--unicode=no --debug=$debug_option" ; then
      echo $ac_n "checking for wxWidgets version >= $min_wx_version""... $ac_c" 1>&6
echo "configure:4371: checking for wxWidgets version >= $min_wx_version" >&5
    else
      echo $ac_n "checking for wxWidgets version >= $min_wx_version (--unicode=no --debug=$debug_option)""... $ac_c" 1>&6
echo "configure:4374: checking for wxWidgets version >= $min_wx_version (--unicode=no --debug=$debug_option)" >&5
    fi

            WX_CONFIG_WITH_ARGS="$WX_CONFIG_PATH $wx_config_args --unicode=no --debug=$debug_option"

    WX_VERSION=`$WX_CONFIG_WITH_ARGS --version 2>/dev/null`
    wx_config_major_version=`echo $WX_VERSION | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\1/'`
    wx_config_minor_version=`echo $WX_VERSION | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\2/'`
    wx_config_micro_version=`echo $WX_VERSION | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\3/'`

    wx_requested_major_version=`echo $min_wx_version | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\1/'`
    wx_requested_minor_version=`echo $min_wx_version | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\2/'`
    wx_requested_micro_version=`echo $min_wx_version | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\3/'`

    
    wx_ver_ok=""
    if test "x$WX_VERSION" != x ; then
      if test $wx_config_major_version -gt $wx_requested_major_version; then
        wx_ver_ok=yes
      else
        if test $wx_config_major_version -eq $wx_requested_major_version; then
           if test $wx_config_minor_version -gt $wx_requested_minor_version; then
              wx_ver_ok=yes
           else
              if test $wx_config_minor_version -eq $wx_requested_minor_version; then
                 if test $wx_config_micro_version -ge $wx_requested_micro_version; then
                    wx_ver_ok=yes
                 fi
              fi
           fi
        fi
      fi
    fi


    if test -n "$wx_ver_ok"; then
      echo "$ac_t""yes (version $WX_VERSION)" 1>&6
      WX_LIBS=`$WX_CONFIG_WITH_ARGS --libs $wxlibs`

                              echo $ac_n "checking for wxWidgets static library""... $ac_c" 1>&6
echo "configure:4420: checking for wxWidgets static library" >&5
      WX_LIBS_STATIC=`$WX_CONFIG_WITH_ARGS --static --libs $wxlibs 2>/dev/null`
      if test "x$WX_LIBS_STATIC" = "x"; then
        echo "$ac_t""no" 1>&6
      else
        echo "$ac_t""yes" 1>&6
      fi

            wx_has_cppflags=""
      if test $wx_config_major_version -gt 2; then
        wx_has_cppflags=yes
      else
        if test $wx_config_major_version -eq 2; then
           if test $wx_config_minor_version -gt 2; then
              wx_has_cppflags=yes
           else
              if test $wx_config_minor_version -eq 2; then
                 if test $wx_config_micro_version -ge 6; then
                    wx_has_cppflags=yes
                 fi
              fi
           fi
        fi
      fi

            wx_has_rescomp=""
      if test $wx_config_major_version -gt 2; then
        wx_has_rescomp=yes
      else
        if test $wx_config_major_version -eq 2; then
           if test $wx_config_minor_version -ge 7; then
              wx_has_rescomp=yes
           fi
        fi
      fi
      if test "x$wx_has_rescomp" = x ; then
                  WX_RESCOMP=
      else
         WX_RESCOMP=`$WX_CONFIG_WITH_ARGS --rescomp`
      fi

      if test "x$wx_has_cppflags" = x ; then
                  WX_CFLAGS=`$WX_CONFIG_WITH_ARGS --cflags $wxlibs`
         WX_CPPFLAGS=$WX_CFLAGS
         WX_CXXFLAGS=$WX_CFLAGS

         WX_CFLAGS_ONLY=$WX_CFLAGS
         WX_CXXFLAGS_ONLY=$WX_CFLAGS
      else
                  WX_CPPFLAGS=`$WX_CONFIG_WITH_ARGS --cppflags $wxlibs`
         WX_CXXFLAGS=`$WX_CONFIG_WITH_ARGS --cxxflags $wxlibs`
         WX_CFLAGS=`$WX_CONFIG_WITH_ARGS --cflags $wxlibs`

         WX_CFLAGS_ONLY=`echo $WX_CFLAGS | sed "s@^$WX_CPPFLAGS *@@"`
         WX_CXXFLAGS_ONLY=`echo $WX_CXXFLAGS | sed "s@^$WX_CFLAGS *@@"`
      fi

      wxOK=1

    else

       if test "x$WX_VERSION" = x; then
                    echo "$ac_t""no" 1>&6
       else
          echo "$ac_t""no (version $WX_VERSION is not new enough)" 1>&6
       fi

       WX_CFLAGS=""
       WX_CPPFLAGS=""
       WX_CXXFLAGS=""
       WX_LIBS=""
       WX_LIBS_STATIC=""
       WX_RESCOMP=""

       if test ! -z "--unicode=no --debug=$debug_option"; then

          wx_error_message="
    The configuration you asked for $PACKAGE_NAME requires a wxWidgets
    build with the following settings:
        --unicode=no --debug=$debug_option
    but such build is not available.

    To see the wxWidgets builds available on this system, please use
    'wx-config --list' command. To use the default build, returned by
    'wx-config --selected-config', use the options with their 'auto'
    default values."

       fi

       wx_error_message="
    The requested wxWidgets build couldn't be found.
    $wx_error_message

    If you still get this error, then check that 'wx-config' is
    in path, the directory where wxWidgets libraries are installed
    (returned by 'wx-config --libs' command) is in LD_LIBRARY_PATH
    or equivalent variable and wxWidgets version is $MIN_WX_VERSION or above."

       wxOK=0

    fi
  else

    WX_CFLAGS=""
    WX_CPPFLAGS=""
    WX_CXXFLAGS=""
    WX_LIBS=""
    WX_LIBS_STATIC=""
    WX_RESCOMP=""

    wxOK=0

  fi

  
  
  
  
  
  
  
  
  

      WX_VERSION_MAJOR="$wx_config_major_version"
  WX_VERSION_MINOR="$wx_config_minor_version"
  WX_VERSION_MICRO="$wx_config_micro_version"
  
  
  



if test "$wxOK" != 1; then
    
    
    if test x${WX_CONFIG_NAME+set} != xset ; then
     WX_CONFIG_NAME=wx-config
  fi

  if test "x$wx_config_name" != x ; then
     WX_CONFIG_NAME="$wx_config_name"
  fi

    if test x$wx_config_exec_prefix != x ; then
     wx_config_args="$wx_config_args --exec-prefix=$wx_config_exec_prefix"
     WX_LOOKUP_PATH="$wx_config_exec_prefix/bin"
  fi
  if test x$wx_config_prefix != x ; then
     wx_config_args="$wx_config_args --prefix=$wx_config_prefix"
     WX_LOOKUP_PATH="$WX_LOOKUP_PATH:$wx_config_prefix/bin"
  fi
  if test "$cross_compiling" = "yes"; then
     wx_config_args="$wx_config_args --host=$host_alias"
  fi

    if test -x "$WX_CONFIG_NAME" ; then
     echo $ac_n "checking for wx-config""... $ac_c" 1>&6
echo "configure:4578: checking for wx-config" >&5
     WX_CONFIG_PATH="$WX_CONFIG_NAME"
     echo "$ac_t""$WX_CONFIG_PATH" 1>&6
  else
     # Extract the first word of "$WX_CONFIG_NAME", so it can be a program name with args.
set dummy $WX_CONFIG_NAME; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4585: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_WX_CONFIG_PATH'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$WX_CONFIG_PATH" in
  /*)
  ac_cv_path_WX_CONFIG_PATH="$WX_CONFIG_PATH" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_WX_CONFIG_PATH="$WX_CONFIG_PATH" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy=""$WX_LOOKUP_PATH:$PATH""
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_WX_CONFIG_PATH="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_WX_CONFIG_PATH" && ac_cv_path_WX_CONFIG_PATH="no"
  ;;
esac
fi
WX_CONFIG_PATH="$ac_cv_path_WX_CONFIG_PATH"
if test -n "$WX_CONFIG_PATH"; then
  echo "$ac_t""$WX_CONFIG_PATH" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  fi

  if test "$WX_CONFIG_PATH" != "no" ; then
    WX_VERSION=""

    min_wx_version=2.9.0
    if test -z "--debug=$debug_option" ; then
      echo $ac_n "checking for wxWidgets version >= $min_wx_version""... $ac_c" 1>&6
echo "configure:4626: checking for wxWidgets version >= $min_wx_version" >&5
    else
      echo $ac_n "checking for wxWidgets version >= $min_wx_version (--debug=$debug_option)""... $ac_c" 1>&6
echo "configure:4629: checking for wxWidgets version >= $min_wx_version (--debug=$debug_option)" >&5
    fi

            WX_CONFIG_WITH_ARGS="$WX_CONFIG_PATH $wx_config_args --debug=$debug_option"

    WX_VERSION=`$WX_CONFIG_WITH_ARGS --version 2>/dev/null`
    wx_config_major_version=`echo $WX_VERSION | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\1/'`
    wx_config_minor_version=`echo $WX_VERSION | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\2/'`
    wx_config_micro_version=`echo $WX_VERSION | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\3/'`

    wx_requested_major_version=`echo $min_wx_version | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\1/'`
    wx_requested_minor_version=`echo $min_wx_version | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\2/'`
    wx_requested_micro_version=`echo $min_wx_version | \
           sed 's/\([0-9]*\).\([0-9]*\).\([0-9]*\)/\3/'`

    
    wx_ver_ok=""
    if test "x$WX_VERSION" != x ; then
      if test $wx_config_major_version -gt $wx_requested_major_version; then
        wx_ver_ok=yes
      else
        if test $wx_config_major_version -eq $wx_requested_major_version; then
           if test $wx_config_minor_version -gt $wx_requested_minor_version; then
              wx_ver_ok=yes
           else
              if test $wx_config_minor_version -eq $wx_requested_minor_version; then
                 if test $wx_config_micro_version -ge $wx_requested_micro_version; then
                    wx_ver_ok=yes
                 fi
              fi
           fi
        fi
      fi
    fi


    if test -n "$wx_ver_ok"; then
      echo "$ac_t""yes (version $WX_VERSION)" 1>&6
      WX_LIBS=`$WX_CONFIG_WITH_ARGS --libs $wxlibs`

                              echo $ac_n "checking for wxWidgets static library""... $ac_c" 1>&6
echo "configure:4675: checking for wxWidgets static library" >&5
      WX_LIBS_STATIC=`$WX_CONFIG_WITH_ARGS --static --libs $wxlibs 2>/dev/null`
      if test "x$WX_LIBS_STATIC" = "x"; then
        echo "$ac_t""no" 1>&6
      else
        echo "$ac_t""yes" 1>&6
      fi

            wx_has_cppflags=""
      if test $wx_config_major_version -gt 2; then
        wx_has_cppflags=yes
      else
        if test $wx_config_major_version -eq 2; then
           if test $wx_config_minor_version -gt 2; then
              wx_has_cppflags=yes
           else
              if test $wx_config_minor_version -eq 2; then
                 if test $wx_config_micro_version -ge 6; then
                    wx_has_cppflags=yes
                 fi
              fi
           fi
        fi
      fi

            wx_has_rescomp=""
      if test $wx_config_major_version -gt 2; then
        wx_has_rescomp=yes
      else
        if test $wx_config_major_version -eq 2; then
           if test $wx_config_minor_version -ge 7; then
              wx_has_rescomp=yes
           fi
        fi
      fi
      if test "x$wx_has_rescomp" = x ; then
                  WX_RESCOMP=
      else
         WX_RESCOMP=`$WX_CONFIG_WITH_ARGS --rescomp`
      fi

      if test "x$wx_has_cppflags" = x ; then
                  WX_CFLAGS=`$WX_CONFIG_WITH_ARGS --cflags $wxlibs`
         WX_CPPFLAGS=$WX_CFLAGS
         WX_CXXFLAGS=$WX_CFLAGS

         WX_CFLAGS_ONLY=$WX_CFLAGS
         WX_CXXFLAGS_ONLY=$WX_CFLAGS
      else
                  WX_CPPFLAGS=`$WX_CONFIG_WITH_ARGS --cppflags $wxlibs`
         WX_CXXFLAGS=`$WX_CONFIG_WITH_ARGS --cxxflags $wxlibs`
         WX_CFLAGS=`$WX_CONFIG_WITH_ARGS --cflags $wxlibs`

         WX_CFLAGS_ONLY=`echo $WX_CFLAGS | sed "s@^$WX_CPPFLAGS *@@"`
         WX_CXXFLAGS_ONLY=`echo $WX_CXXFLAGS | sed "s@^$WX_CFLAGS *@@"`
      fi

      wxOK=1

    else

       if test "x$WX_VERSION" = x; then
                    echo "$ac_t""no" 1>&6
       else
          echo "$ac_t""no (version $WX_VERSION is not new enough)" 1>&6
       fi

       WX_CFLAGS=""
       WX_CPPFLAGS=""
       WX_CXXFLAGS=""
       WX_LIBS=""
       WX_LIBS_STATIC=""
       WX_RESCOMP=""

       if test ! -z "--debug=$debug_option"; then

          wx_error_message="
    The configuration you asked for $PACKAGE_NAME requires a wxWidgets
    build with the following settings:
        --debug=$debug_option
    but such build is not available.

    To see the wxWidgets builds available on this system, please use
    'wx-config --list' command. To use the default build, returned by
    'wx-config --selected-config', use the options with their 'auto'
    default values."

       fi

       wx_error_message="
    The requested wxWidgets build couldn't be found.
    $wx_error_message

    If you still get this error, then check that 'wx-config' is
    in path, the directory where wxWidgets libraries are installed
    (returned by 'wx-config --libs' command) is in LD_LIBRARY_PATH
    or equivalent variable and wxWidgets version is 2.9.0 or above."

       wxOK=0

    fi
  else

    WX_CFLAGS=""
    WX_CPPFLAGS=""
    WX_CXXFLAGS=""
    WX_LIBS=""
    WX_LIBS_STATIC=""
    WX_RESCOMP=""

    wxOK=0

  fi

  
  
  
  
  
  
  
  
  

      WX_VERSION_MAJOR="$wx_config_major_version"
  WX_VERSION_MINOR="$wx_config_minor_version"
  WX_VERSION_MICRO="$wx_config_micro_version"
  
  
  


fi

if test "$wxOK" != 1; then
    if test $debug_option = "yes"; then
	wxkind=debug
    else
	wxkind=release
    fi

    { echo "configure: error: 
	   Mahogany requires wxWidgets to be installed on your system
	   but the required wxWidgets version couldn't be found.

	   Please check that wx-config is in PATH, the directory
	   where wxWidgets libraries are installed (returned by
	   'wx-config --libs' command) is in LD_LIBRARY_PATH or
	   equivalent variable and wxWidgets version is $MIN_WX_VERSION or above
	   and is available in $wxkind version.
   " 1>&2; exit 1; }
fi

CPPFLAGS="$CPPFLAGS $WX_CPPFLAGS"
CFLAGS="$CFLAGS $WX_CFLAGS_ONLY"
CXXFLAGS="$CXXFLAGS $WX_CFLAGS_ONLY $WX_CXXFLAGS_ONLY"

GUI_LIBS="$WX_LIBS"


GUI_LIBS_QUARTSTATIC="$WX_LIBS_STATIC"


GUI_LIBS_SEMISTATIC=`echo $GUI_LIBS_QUARTSTATIC | sed '
    s/-lgtk/-Wl,-Bstatic &/g
    s/-lglib/& -Wl,-Bdynamic/g
'`


GUI_LIBS_STATIC=`echo $WX_LIBS_STATIC | sed 's/-rdynamic//g'`


if test "$USE_MAC" = 1; then
    # Extract the first word of "SetFile", so it can be a program name with args.
set dummy SetFile; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4851: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_SETFILE'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$SETFILE" in
  /*)
  ac_cv_path_SETFILE="$SETFILE" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_SETFILE="$SETFILE" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH:/Developer/Tools"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_SETFILE="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_SETFILE" && ac_cv_path_SETFILE="true"
  ;;
esac
fi
SETFILE="$ac_cv_path_SETFILE"
if test -n "$SETFILE"; then
  echo "$ac_t""$SETFILE" 1>&6
else
  echo "$ac_t""no" 1>&6
fi


    REZFLAGS=`$WX_CONFIG_WITH_ARGS --rezflags`
    
fi

WX_NAME=`$WX_CONFIG_WITH_ARGS --basename | sed 's/^wx_//'`
WX_NAME_NO_DEBUG=`echo $WX_NAME | sed 's/d$//'`
if test "$WX_NAME_NO_DEBUG" != "$WX_NAME"; then
    WX_NAME="$WX_NAME_NO_DEBUG (debug build)"
fi

case "$USE_THREADS" in 1)
	echo $ac_n "checking if wxWidgets was compiled with threads""... $ac_c" 1>&6
echo "configure:4897: checking if wxWidgets was compiled with threads" >&5
if eval "test \"`echo '$''{'m_cv_wx_threads'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  m_cv_wx_threads=x
else
  cat > conftest.$ac_ext <<EOF
#line 4905 "configure"
#include "confdefs.h"
#include "wx/setup.h"
			int main(){
			#ifdef wxUSE_THREADS
				return 0;
			#else
				return 1;
			#endif
			}
EOF
if { (eval echo configure:4916: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  m_cv_wx_threads=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  m_cv_wx_threads=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$m_cv_wx_threads" 1>&6
	case "$m_cv_wx_threads" in
	yes)	cat >> confdefs.h <<\EOF
#define USE_THREADS 1
EOF
 ;;
	no)	m_cv_USE_THREADS=0	# turn off our option
		echo "configure: warning: Threads configured but not available" 1>&2 ;;
	x)	echo "configure: warning: Cross-compiling are we?
		    Geeze, I hope you know what you're doing..." 1>&2
		m_cv_wx_threads=yes
		cat >> confdefs.h <<\EOF
#define USE_THREADS 1
EOF
 ;;
	esac
esac


case "$OSTYPE" in
   linux* | Linux*)
      echo $ac_n "checking for pam_end in -lpam""... $ac_c" 1>&6
echo "configure:4952: checking for pam_end in -lpam" >&5
ac_lib_var=`echo pam'_'pam_end | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lpam  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 4960 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char pam_end();

int main() {
pam_end()
; return 0; }
EOF
if { (eval echo configure:4971: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  CCOSTYPE=lnp
else
  echo "$ac_t""no" 1>&6
CCOSTYPE=slx
fi

      ;;
esac

case "$USE_MINGW" in 
0)
case "$USE_CCOSTYPE" in
''|0|1)	echo $ac_n "checking for c-client library OS type""... $ac_c" 1>&6
echo "configure:4999: checking for c-client library OS type" >&5
	case "$OSTYPE" in
	linux* | Linux*)
		;; 	Solaris* | solaris* | SunOS*)
		case "$GXX" in
		yes)	CCOSTYPE=gso ;;
		*)	CCOSTYPE=sol ;;
		esac ;;
	freebsd* | FreeBSD*)
		CCOSTYPE=bsf ;;
	hpux_9*)
		CCOSTYPE=hpp ;;
	hpux_10*)
		CCOSTYPE=hpx ;;
	OSF1*)
		case "$GXX" in
		yes)	CCOSTYPE=gof ;;
		*)	CCOSTYPE=osf ;;
		esac ;;
	IRIX*)
		case "$GXX" in
		yes)	CCOSTYPE=gsg ;;
		*)				case `uname -r` in
			    6.5*) CCOSTYPE=sg6 ;;
			    *) 	  CCOSTYPE=sgi ;;
			esac
		esac ;;
	darwin* | Darwin*)
		CCOSTYPE=osx ;;
	OpenBSD*)
		CCOSTYPE=bso ;;
	NetBSD*)
		CCOSTYPE=neb ;;
	cygwin* | CYGWIN*)
		CCOSTYPE=cyg ;;
	*)
		echo "$ac_t""unknown" 1>&6
		{ echo "configure: error: cannot guess c-client OS type for $OSTYPE,
please have a look at lib/imap/Makefile and use --with-ccostype=xxx
with xxx being the most appropriate system type from this file." 1>&2; exit 1; }
		;;
	esac
		m_cv_USE_CCOSTYPE="$CCOSTYPE"
	echo "$ac_t""$CCOSTYPE" 1>&6 ;;
*)	CCOSTYPE="$USE_CCOSTYPE" ;;
esac
;;
1)
;;
esac

case "$CCOSTYPE" in
lnp)	LIB_PAM="-lpam" ;;
*)	LIB_PAM= ;;
esac

MAKE_PISOCKLIB=
case "$USE_PISOCK" in 
1)
    ac_safe=`echo "pi-source.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for pi-source.h""... $ac_c" 1>&6
echo "configure:5060: checking for pi-source.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5065 "configure"
#include "confdefs.h"
#include <pi-source.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:5070: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  echo $ac_n "checking for main in -lpisock""... $ac_c" 1>&6
echo "configure:5087: checking for main in -lpisock" >&5
ac_lib_var=`echo pisock'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lpisock  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5095 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:5102: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
   cat >> confdefs.h <<\EOF
#define USE_PISOCK 1
EOF

	MAKE_PISOCKLIB="PISOCK_LIB:=-lpisock"
	echo $ac_n "checking for pi_setmaxspeed in -lpisock""... $ac_c" 1>&6
echo "configure:5123: checking for pi_setmaxspeed in -lpisock" >&5
ac_lib_var=`echo pisock'_'pi_setmaxspeed | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lpisock  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5131 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char pi_setmaxspeed();

int main() {
pi_setmaxspeed()
; return 0; }
EOF
if { (eval echo configure:5142: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_PI_SETMAXSPEED 1
EOF

else
  echo "$ac_t""no" 1>&6
echo "configure: warning: Your pisock library is old - some functionality will be disabled." 1>&2
fi

	echo $ac_n "checking for pi_accept_to in -lpisock""... $ac_c" 1>&6
echo "configure:5167: checking for pi_accept_to in -lpisock" >&5
ac_lib_var=`echo pisock'_'pi_accept_to | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lpisock  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5175 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char pi_accept_to();

int main() {
pi_accept_to()
; return 0; }
EOF
if { (eval echo configure:5186: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_PI_ACCEPT_TO 1
EOF

else
  echo "$ac_t""no" 1>&6
echo "configure: warning: Your pisock library is old - some functionality will be disabled." 1>&2
fi

      
else
  echo "$ac_t""no" 1>&6
echo "configure: warning: Cannot find pisock library - support for PalmOS disabled." 1>&2
     
fi

else
  echo "$ac_t""no" 1>&6
echo "configure: warning: Cannot find pisock headers - support for PalmOS disabled." 1>&2
    
fi

    ;;
esac


MAKE_HAVE_LIBMAL=
case "$MAKE_PISOCKLIB" in
'') ;;
*)
	echo $ac_n "checking for libmal in lib""... $ac_c" 1>&6
echo "configure:5232: checking for libmal in lib" >&5
	if test ! -d $srcdir/lib/libmal 
	then	echo "$ac_t""not found - no MAL synch for PalmOS" 1>&6
	elif test -f $srcdir/lib/libmal/Makefile.in \
		-a "$SOURCEDIR" != "$BUILDDIR"
	then	echo "$ac_t""old-style libmal not supported in separate build tree" 1>&6
	else	echo "$ac_t""found - MAL synch for PalmOS activated" 1>&6
		MAKE_HAVE_LIBMAL="HAVE_LIBMAL=yes"
	fi
esac



MAKE_USE_DSPAM=
using_dspam="no"
case "$USE_DSPAM" in
    1)
	using_dspam="yes"
	MAKE_USE_DSPAM="USE_DSPAM=1"
	;;
esac




if test "$USE_MAC" = 1; then
                USE_MODULES="static"
fi

MODULELDFLAGS=
case "$USE_MODULES" in
none|None|NONE|0|'')
	m_cv_USE_MODULES=none
	MAKE_USE_MODULES=
	echo "configure: warning: The program will be hardly usable without modules." 1>&2
	;;
dynamic|Dynamic|DYNAMIC)
	m_cv_USE_MODULES=dynamic
	cat >> confdefs.h <<\EOF
#define USE_MODULES 1
EOF

	MAKE_USE_MODULES="USE_MODULES=dynamic"
	;;
static|Static|STATIC)
	m_cv_USE_MODULES=static
	cat >> confdefs.h <<\EOF
#define USE_MODULES_STATIC 1
EOF

	cat >> confdefs.h <<\EOF
#define USE_MODULES 1
EOF

	MAKE_USE_MODULES="USE_MODULES=static"
	;;
auto|Auto|AUTO|1)
	echo $ac_n "checking how to link modules""... $ac_c" 1>&6
echo "configure:5290: checking how to link modules" >&5
		if test "$USE_MAC" = 0; then
	    LDD="ldd"
	else
	    LDD="otool -L"
	fi
	echo "int main() { return 0; }" >conftest.c
	if $CXX -o conftest $WX_LIBS conftest.c 2>link.log >&2 && \
		$LDD conftest | fgrep libwx 2>/dev/null >&2
	then
		m_cv_USE_MODULES=dynamic
		MAKE_USE_MODULES="USE_MODULES=dynamic"
		echo "$ac_t""dynamically" 1>&6
	else
		m_cv_USE_MODULES=static
		MAKE_USE_MODULES="USE_MODULES=static"
		cat >> confdefs.h <<\EOF
#define USE_MODULES_STATIC 1
EOF

		echo "$ac_t""statically" 1>&6
	fi
	rm -f conftest*
	cat >> confdefs.h <<\EOF
#define USE_MODULES 1
EOF

	;;
*)
	{ echo "configure: error: Set --with-modules= to one of static/dynamic/none" 1>&2; exit 1; }
esac

if test "$m_cv_USE_MODULES" = "dynamic"; then
        if test "$GCC" = "yes"; then
	SHARED_CFLAGS="-fPIC"
    fi

            case "$OSTYPE" in
	linux* | Linux* | freebsd* | FreeBSD*)
		MODULELDFLAGS="-export-dynamic"
		;;
    esac
fi






DOCHTML="\$(SCANDOCHTML)"	
DOCTEX="\$(SCANDOCTEX)"		


MAKE_HAVE_DOCTOOLS='HAVE_DOCTOOLS=yes'
# Extract the first word of "perl", so it can be a program name with args.
set dummy perl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5347: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PERL" in
  /*)
  ac_cv_path_PERL="$PERL" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PERL="$PERL" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PERL="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PERL="$ac_cv_path_PERL"
if test -n "$PERL"; then
  echo "$ac_t""$PERL" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
case "$PERL" in '') MAKE_HAVE_DOCTOOLS='' PERL='false "No perl available"';; esac
# Extract the first word of "latex", so it can be a program name with args.
set dummy latex; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5382: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_LATEX'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$LATEX" in
  /*)
  ac_cv_path_LATEX="$LATEX" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_LATEX="$LATEX" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_LATEX="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
LATEX="$ac_cv_path_LATEX"
if test -n "$LATEX"; then
  echo "$ac_t""$LATEX" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
case "$LATEX" in '') MAKE_HAVE_DOCTOOLS='' LATEX='false "No latex available"';; esac
# Extract the first word of "makeindex", so it can be a program name with args.
set dummy makeindex; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5417: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MAKEINDEX'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$MAKEINDEX" in
  /*)
  ac_cv_path_MAKEINDEX="$MAKEINDEX" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_MAKEINDEX="$MAKEINDEX" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_MAKEINDEX="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
MAKEINDEX="$ac_cv_path_MAKEINDEX"
if test -n "$MAKEINDEX"; then
  echo "$ac_t""$MAKEINDEX" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
case "$MAKEINDEX" in '') MAKE_HAVE_DOCTOOLS='' MAKEINDEX='false "No makeindex available"';; esac
# Extract the first word of "dvips", so it can be a program name with args.
set dummy dvips; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5452: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_DVIPS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$DVIPS" in
  /*)
  ac_cv_path_DVIPS="$DVIPS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_DVIPS="$DVIPS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_DVIPS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
DVIPS="$ac_cv_path_DVIPS"
if test -n "$DVIPS"; then
  echo "$ac_t""$DVIPS" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
case "$DVIPS" in '') MAKE_HAVE_DOCTOOLS='' DVIPS='false "No dvips available"';; esac
# Extract the first word of "ps2pdf", so it can be a program name with args.
set dummy ps2pdf; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5487: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PSTOPDF'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PSTOPDF" in
  /*)
  ac_cv_path_PSTOPDF="$PSTOPDF" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PSTOPDF="$PSTOPDF" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PSTOPDF="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PSTOPDF="$ac_cv_path_PSTOPDF"
if test -n "$PSTOPDF"; then
  echo "$ac_t""$PSTOPDF" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
case "$PSTOPDF" in '') MAKE_HAVE_DOCTOOLS='' PSTOPDF='false "No ps2pdf available"';; esac
# Extract the first word of "latex2html", so it can be a program name with args.
set dummy latex2html; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5522: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_LATEX2HTML'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$LATEX2HTML" in
  /*)
  ac_cv_path_LATEX2HTML="$LATEX2HTML" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_LATEX2HTML="$LATEX2HTML" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_LATEX2HTML="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
LATEX2HTML="$ac_cv_path_LATEX2HTML"
if test -n "$LATEX2HTML"; then
  echo "$ac_t""$LATEX2HTML" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
case "$LATEX2HTML" in '') MAKE_HAVE_DOCTOOLS='' LATEX2HTML='false "No latex2html available"';; esac
case "$MAKE_HAVE_DOCTOOLS" in
    '') echo "configure: warning: One of the tools required to build documentation
		    is missing.  Documentation cannot be built on this system
		    and you will need a pre-built Mdocs.tar.gz instead." 1>&2
    ;;
esac



CPPFLAGS="-I$SOURCEDIR/include $CPPFLAGS"
case "$BUILDDIR" in "$SOURCEDIR") ;; *)
	CPPFLAGS="-I$BUILDDIR/include $CPPFLAGS" ;;
esac

WX_INSTALL_DIR=`$WX_CONFIG_WITH_ARGS --prefix`

RESFLAGS="--include-dir=$WX_INSTALL_DIR/include --include-dir=$SOURCEDIR/res"

RESFLAGS="--include-dir=$SOURCEDIR/include $RESFLAGS"
case "$BUILDDIR" in "$SOURCEDIR") ;; *)
	RESFLAGS="--include-dir=$BUILDDIR/include $RESFLAGS" ;;
esac


CPPFLAGS="$CPPFLAGS -I$BUILDDIR/lib/imap/c-client"
LIBS="$BUILDDIR/lib/imap/c-client/c-client.a $LIBS"
CPPFLAGS="$CPPFLAGS -I$SOURCEDIR/lib/compface -I$SOURCEDIR/src/wx/vcard"
LIBS="$BUILDDIR/lib/compface/libcompface.a $LIBS"


CFLAGS="$CFLAGS $CODE_GEN_FLAGS"
CXXFLAGS="$CXXFLAGS $CODE_GEN_FLAGS"
LIBS="$LIBS $PYTHON_LIBS $LIB_EFENCE $LIB_DMALLOC $LIB_PAM"

IMAP_CFLAGS="$CFLAGS $IMAP_CFLAGS"
echo $ac_n "checking whether $CC accepts -Wno-pointer-sign""... $ac_c" 1>&6
echo "configure:5590: checking whether $CC accepts -Wno-pointer-sign" >&5
if eval "test \"`echo '$''{'m_cv_cc_no_warn_ptr_sign'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
   
   if test "x$GCC" = "xyes"; then
      echo 'void f(){}' >conftest.c
      case "`$CC -Wno-pointer-sign -c conftest.c 2>&1`" in
         '') m_cv_cc_no_warn_ptr_sign="yes" ;;
         *)  m_cv_cc_no_warn_ptr_sign="no" ;;
      esac
      rm -f conftest.*
   else
      m_cv_cc_no_warn_ptr_sign="no"
   fi


fi

echo "$ac_t""$m_cv_cc_no_warn_ptr_sign" 1>&6
if test $m_cv_cc_no_warn_ptr_sign = "yes"; then
    IMAP_CFLAGS="$IMAP_CFLAGS -Wno-pointer-sign"
fi
echo $ac_n "checking whether $CC accepts -Wno-pointer-to-int-cast""... $ac_c" 1>&6
echo "configure:5615: checking whether $CC accepts -Wno-pointer-to-int-cast" >&5
if eval "test \"`echo '$''{'m_cv_cc_no_warn_ptr_to_int_cast'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
   
   if test "x$GCC" = "xyes"; then
      echo 'void f(){}' >conftest.c
      case "`$CC -Wno-pointer-to-int-cast -c conftest.c 2>&1`" in
         '') m_cv_cc_no_warn_ptr_to_int_cast="yes" ;;
         *)  m_cv_cc_no_warn_ptr_to_int_cast="no" ;;
      esac
      rm -f conftest.*
   else
      m_cv_cc_no_warn_ptr_to_int_cast="no"
   fi


fi

echo "$ac_t""$m_cv_cc_no_warn_ptr_to_int_cast" 1>&6
if test $m_cv_cc_no_warn_ptr_to_int_cast = "yes"; then
            IMAP_CFLAGS="$IMAP_CFLAGS -Wno-pointer-to-int-cast -Wno-int-to-pointer-cast"
fi


CFACE_CPPFLAGS="${CPPFLAGS}"
CFACE_CFLAGS="${CFLAGS}"
case "$OSTYPE" in
    darwin* | Darwin*)
	# Apple gcc version is buggy and requires this switch to compile
	# compface sources and twofish.c (at least for 3.1 from Dec 2002 dev
	# tools)
	CFACE_CFLAGS="${CFACE_CFLAGS} -no-cpp-precomp"
	;;
esac




LIBMAL_CPPFLAGS="${CPPFLAGS}"
LIBMAL_CFLAGS="${CFLAGS}"
LIBMAL_CXXFLAGS="${CXXFLAGS}"




case "$GCC" in yes)
	case "$USE_STRICT" in
	1)	CFLAGS="$CFLAGS -Werror -pedantic -Wno-long-long" ;;
	*)	CFLAGS="$CFLAGS -Wall" ;;
	esac ;;	
esac

DEPFLAGS=
if test "x$GXX" = "xyes" -o "x$CCOSTYPE" = "xosf"; then
    DEPFLAGS="-MMD"
else
            case "$OSTYPE" in
	OSF1*)
	    DEPFLAGS="-MMD"
	    ;;

	Solaris* | solaris* | SunOS*)
	    	    DEPFLAGS="-xM1"
	    ;;

	IRIX*)
	    	    DEPFLAGS="-M"
	    ;;
    esac
fi

if test "x$DEPFLAGS" != "x"; then
            if test "x$GXX" != "xyes"; then
	echo $ac_n "checking whether ${CXX} accepts ${DEPFLAGS}""... $ac_c" 1>&6
echo "configure:5691: checking whether ${CXX} accepts ${DEPFLAGS}" >&5
if eval "test \"`echo '$''{'m_cv_cxx_depflags'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		    echo 'void f(){}' >conftest.cc
		    case "`${CXX} ${DEPFLAGS} -c conftest.cc 2>&1`" in
			'')	m_cv_cxx_depflags=yes ;;
			*)	m_cv_cxx_depflags=no ;;
		    esac
		    rm -f conftest*
		
fi

echo "$ac_t""$m_cv_cxx_depflags" 1>&6
	if test "x$m_cv_cxx_depflags" != "xyes"; then
	    DEPFLAGS=""
	fi
    fi

    if test "x$DEPFLAGS" != "x"; then
	if test "x$GCC" != "xyes"; then
	    echo $ac_n "checking whether ${CC} accepts ${DEPFLAGS}""... $ac_c" 1>&6
echo "configure:5714: checking whether ${CC} accepts ${DEPFLAGS}" >&5
if eval "test \"`echo '$''{'m_cv_c_depflags'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
			echo 'void f(){}' >conftest.cc
			case "`${CXX} ${DEPFLAGS} -c conftest.cc 2>&1`" in
			    '')	m_cv_c_depflags=yes ;;
			    *)	m_cv_c_depflags=no ;;
			esac
			rm -f conftest*
		    
fi

echo "$ac_t""$m_cv_c_depflags" 1>&6
	    if test "x$m_cv_c_depflags" != "xyes"; then
		DEPFLAGS=""
	    fi
	fi
    fi
fi

if test "x$DEPFLAGS" != "x"; then
    CXXFLAGS="$CXXFLAGS $DEPFLAGS"
    CFLAGS="$CFLAGS $DEPFLAGS"
else
    echo "configure: warning: *** dependencies not supported ***
		    Dependencies are not supported for this compiler.  If this
		    message appears, then we need to talk -- we think we know
		    how to fix this, but we don't have a machine where we can
		    test it.  Please go to http://mahogany.sourceforge.net/bugz
		    and submit a bug against the Build component so we can
		    give you some code to try." 1>&2
fi

CXXFLAGS_RELAXED="$CXXFLAGS"
case "$GXX" in yes)
	case "$USE_STRICT" in
	1)	CXXFLAGS_RELAXED="$CXXFLAGS_RELAXED -Wall -pedantic -Wno-long-long"
		CXXFLAGS="$CXXFLAGS -Werror -pedantic -Wno-long-long" ;;
	*)	CXXFLAGS_RELAXED="$CXXFLAGS_RELAXED -Wall"
		CXXFLAGS="$CXXFLAGS -Wall" ;;
	esac ;;	
esac


# gather all directories where we want to create .src links in DIR and all
# Makefiles in COPY
OUTPUT="makeopts"
COPY=Makefile
DIR=
for dir in `cd $srcdir; find include lib extra src locale doc res -type d -print`; do
    case "$dir" in
	CVS | */CVS | \
	lib/imap/*)
	    # ignore
	    ;;

	*)
	    # normal case
	    if test -f $srcdir/$dir/Makefile.M; then
		    COPY="$COPY $dir/Makefile.M"
	    elif test -f $srcdir/$dir/Makefile; then
		    COPY="$COPY $dir/Makefile"
	    elif test ! -f $srcdir/$dir/Names.mk; then
		continue
	    fi
	    DIR="$DIR $dir"
    esac
done
# HACK for backward compatibility; clean it up when old libmal is dead
case "$MAKE_HAVE_LIBMAL" in '') ;; *)
	if test -f $srcdir/extra/src/libmal/Makefile.in
	then	OUTPUT="$OUTPUT extra/src/libmal/Makefile"
	else	COPY="$COPY extra/src/libmal/Makefile"
	fi ;;
esac



trap '' 1 2 15
cat > confcache <<\EOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
EOF
# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(set) 2>&1 |
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
  *ac_space=\ *)
    # `set' does not quote correctly, so add quotes (double-quote substitution
    # turns \\\\ into \\, and sed turns \\ into \).
    sed -n \
      -e "s/'/'\\\\''/g" \
      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
    ;;
  *)
    # `set' quotes correctly as required by POSIX, so do not add quotes.
    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
    ;;
  esac >> confcache
if cmp -s $cache_file confcache; then
  :
else
  if test -w $cache_file; then
    echo "updating cache $cache_file"
    cat confcache > $cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi

trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

DEFS=-DHAVE_CONFIG_H

# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.

ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
  esac
done

ac_given_srcdir=$srcdir
ac_given_INSTALL="$INSTALL"

trap 'rm -fr `echo "$OUTPUT include/config.h" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@SHELL@%$SHELL%g
s%@CFLAGS@%$CFLAGS%g
s%@CPPFLAGS@%$CPPFLAGS%g
s%@CXXFLAGS@%$CXXFLAGS%g
s%@FFLAGS@%$FFLAGS%g
s%@DEFS@%$DEFS%g
s%@LDFLAGS@%$LDFLAGS%g
s%@LIBS@%$LIBS%g
s%@exec_prefix@%$exec_prefix%g
s%@prefix@%$prefix%g
s%@program_transform_name@%$program_transform_name%g
s%@bindir@%$bindir%g
s%@sbindir@%$sbindir%g
s%@libexecdir@%$libexecdir%g
s%@datadir@%$datadir%g
s%@sysconfdir@%$sysconfdir%g
s%@sharedstatedir@%$sharedstatedir%g
s%@localstatedir@%$localstatedir%g
s%@libdir@%$libdir%g
s%@includedir@%$includedir%g
s%@oldincludedir@%$oldincludedir%g
s%@infodir@%$infodir%g
s%@mandir@%$mandir%g
s%@MAKE_USE_MAC@%$MAKE_USE_MAC%g
s%@MAKE_USE_MINGW@%$MAKE_USE_MINGW%g
s%@MAKE_USE_RESOURCES@%$MAKE_USE_RESOURCES%g
s%@host@%$host%g
s%@host_alias@%$host_alias%g
s%@host_cpu@%$host_cpu%g
s%@host_vendor@%$host_vendor%g
s%@host_os@%$host_os%g
s%@SOURCEDIR@%$SOURCEDIR%g
s%@BUILDDIR@%$BUILDDIR%g
s%@CC@%$CC%g
s%@CPP@%$CPP%g
s%@CXX@%$CXX%g
s%@MAKE_USE_PCH@%$MAKE_USE_PCH%g
s%@RANLIB@%$RANLIB%g
s%@M4@%$M4%g
s%@YACC@%$YACC%g
s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g
s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g
s%@INSTALL_DATA@%$INSTALL_DATA%g
s%@SET_MAKE@%$SET_MAKE%g
s%@MAKE_USE_LEAKTRACER@%$MAKE_USE_LEAKTRACER%g
s%@MAKE_DEBUG@%$MAKE_DEBUG%g
s%@MAKE_EXPERIMENTAL@%$MAKE_EXPERIMENTAL%g
s%@IMAP_SSLTYPE@%$IMAP_SSLTYPE%g
s%@SWIG@%$SWIG%g
s%@MAKE_USE_PYTHON@%$MAKE_USE_PYTHON%g
s%@XGETTEXT@%$XGETTEXT%g
s%@MSGMERGE@%$MSGMERGE%g
s%@MAKE_XLATE@%$MAKE_XLATE%g
s%@MSGFMT@%$MSGFMT%g
s%@WX_CONFIG_PATH@%$WX_CONFIG_PATH%g
s%@WX_CPPFLAGS@%$WX_CPPFLAGS%g
s%@WX_CFLAGS@%$WX_CFLAGS%g
s%@WX_CXXFLAGS@%$WX_CXXFLAGS%g
s%@WX_CFLAGS_ONLY@%$WX_CFLAGS_ONLY%g
s%@WX_CXXFLAGS_ONLY@%$WX_CXXFLAGS_ONLY%g
s%@WX_LIBS@%$WX_LIBS%g
s%@WX_LIBS_STATIC@%$WX_LIBS_STATIC%g
s%@WX_VERSION@%$WX_VERSION%g
s%@WX_RESCOMP@%$WX_RESCOMP%g
s%@WX_VERSION_MAJOR@%$WX_VERSION_MAJOR%g
s%@WX_VERSION_MINOR@%$WX_VERSION_MINOR%g
s%@WX_VERSION_MICRO@%$WX_VERSION_MICRO%g
s%@GUI_LIBS@%$GUI_LIBS%g
s%@GUI_LIBS_QUARTSTATIC@%$GUI_LIBS_QUARTSTATIC%g
s%@GUI_LIBS_SEMISTATIC@%$GUI_LIBS_SEMISTATIC%g
s%@GUI_LIBS_STATIC@%$GUI_LIBS_STATIC%g
s%@SETFILE@%$SETFILE%g
s%@REZFLAGS@%$REZFLAGS%g
s%@CCOSTYPE@%$CCOSTYPE%g
s%@MAKE_PISOCKLIB@%$MAKE_PISOCKLIB%g
s%@MAKE_HAVE_LIBMAL@%$MAKE_HAVE_LIBMAL%g
s%@MAKE_USE_DSPAM@%$MAKE_USE_DSPAM%g
s%@MAKE_USE_MODULES@%$MAKE_USE_MODULES%g
s%@MODULELDFLAGS@%$MODULELDFLAGS%g
s%@SHARED_CFLAGS@%$SHARED_CFLAGS%g
s%@DOCHTML@%$DOCHTML%g
s%@DOCTEX@%$DOCTEX%g
s%@PERL@%$PERL%g
s%@LATEX@%$LATEX%g
s%@MAKEINDEX@%$MAKEINDEX%g
s%@DVIPS@%$DVIPS%g
s%@PSTOPDF@%$PSTOPDF%g
s%@LATEX2HTML@%$LATEX2HTML%g
s%@MAKE_HAVE_DOCTOOLS@%$MAKE_HAVE_DOCTOOLS%g
s%@RESFLAGS@%$RESFLAGS%g
s%@IMAP_CFLAGS@%$IMAP_CFLAGS%g
s%@CFACE_CPPFLAGS@%$CFACE_CPPFLAGS%g
s%@CFACE_CFLAGS@%$CFACE_CFLAGS%g
s%@LIBMAL_CPPFLAGS@%$LIBMAL_CPPFLAGS%g
s%@LIBMAL_CFLAGS@%$LIBMAL_CFLAGS%g
s%@LIBMAL_CXXFLAGS@%$LIBMAL_CXXFLAGS%g
s%@CXXFLAGS_RELAXED@%$CXXFLAGS_RELAXED%g

CEOF
EOF

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

cat >> $CONFIG_STATUS <<EOF

CONFIG_FILES=\${CONFIG_FILES-"$OUTPUT"}
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.

  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
  *) # Relative path.
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
  esac

  case "$ac_given_INSTALL" in
  [/$]*) INSTALL="$ac_given_INSTALL" ;;
  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
  esac

  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@configure_input@%$configure_input%g
s%@srcdir@%$srcdir%g
s%@top_srcdir@%$top_srcdir%g
s%@INSTALL@%$INSTALL%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*

# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
ac_dC='\3'
ac_dD='%g'
# ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='\([ 	]\)%\1#\2define\3'
ac_uC=' '
ac_uD='\4%g'
# ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_eB='$%\1#\2define\3'
ac_eC=' '
ac_eD='%g'

if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="include/config.h"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  echo creating $ac_file

  rm -f conftest.frag conftest.in conftest.out
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in

EOF

# Transform confdefs.h into a sed script conftest.vals that substitutes
# the proper values into config.h.in to produce config.h.  And first:
# Protect against being on the right side of a sed subst in config.status.
# Protect against being in an unquoted here document in config.status.
rm -f conftest.vals
cat > conftest.hdr <<\EOF
s/[\\&%]/\\&/g
s%[\\$`]%\\&%g
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
s%ac_d%ac_u%gp
s%ac_u%ac_e%gp
EOF
sed -n -f conftest.hdr confdefs.h > conftest.vals
rm -f conftest.hdr

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >> conftest.vals <<\EOF
s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
EOF

# Break up conftest.vals because some shells have a limit on
# the size of here documents, and old seds have small limits too.

rm -f conftest.tail
while :
do
  ac_lines=`grep -c . conftest.vals`
  # grep -c gives empty output for an empty file on some AIX systems.
  if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
  # Write a limited-size here document to conftest.frag.
  echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
  echo 'CEOF
  sed -f conftest.frag conftest.in > conftest.out
  rm -f conftest.in
  mv conftest.out conftest.in
' >> $CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
  rm -f conftest.vals
  mv conftest.tail conftest.vals
done
rm -f conftest.vals

cat >> $CONFIG_STATUS <<\EOF
  rm -f conftest.frag conftest.h
  echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
  cat conftest.in >> conftest.h
  rm -f conftest.in
  if cmp -s $ac_file conftest.h 2>/dev/null; then
    echo "$ac_file is unchanged"
    rm -f conftest.h
  else
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
    rm -f $ac_file
    mv conftest.h $ac_file
  fi
fi; done

EOF
cat >> $CONFIG_STATUS <<EOF
src="$srcdir" SRC="$SOURCEDIR" OBJ="$BUILDDIR"
DIR="$DIR"
COPY="$COPY"

EOF
cat >> $CONFIG_STATUS <<\EOF

	case "$SRC" in
	    "$OBJ")	# source and object jumbled together
		for dir in . $DIR
		do
		    rm -f $dir/.src
		    ln -s . $dir/.src
		done
		;;

	    *)	# using separate object directories
		rm -f .src Makefile makerules
		ln -s $src .src
		ln -s .src/Makefile Makefile
		ln -s .src/makerules makerules
		for dir in $DIR
		do
		    test -d $dir || mkdir $dir
		    rm -f $dir/.src
		    case "$src" in
		    /*)	ln -s $src/$dir $dir/.src ;;
		    *)	lnk=`echo "$dir" | sed 's,\([^/][^/]*\),..,g'`
			ln -s $lnk/$src/$dir $dir/.src ;;
		    esac
		done
		for mf in $COPY
		do
		    echo "linking $mf"
		    rm -f $mf
		    ln -s .src/`basename $mf` $mf
		done
		;;
	esac

	# be careful to use only standard BRE features: this is why we use
	# \{1,\} instead of + for example
	grep "^#define M_VERSION_[MR]" $src/include/Mversion.h | \
	    sed 's/^#define \{1,\}\([A-Z_]\{1,\}\) \{1,\}\([0-9]\{1,\}\)/\1=\2/' > makeversion


exit 0
EOF
chmod +x $CONFIG_STATUS
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1


. ./makeversion

echo
echo "Configured Mahogany ${M_VERSION_MAJOR}.${M_VERSION_MINOR}.${M_VERSION_RELEASE} for ${host}."
echo ""
echo "	wxWidgets port used:		${WX_NAME} ${WX_VERSION}"
echo "	Debug mode:			${debug_option}"
echo "	SSL support:			${ssl_option}"
echo "	Modules support:		${m_cv_USE_MODULES}"
echo "	Embedded Python:		${PYTHON_VER:-none}"
if test "$USE_PYTHON" != 0 -a "$USE_SWIG" = 1; then
    echo "	      with swig:		${SWIG}"
fi
echo "	DSPAM spam filtering:		${using_dspam}"
echo ""
echo "Please look at config.log for more details."

exit 0

