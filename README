$Id$

--------------------------------------------------------------------
README file for Mahogany, Release 0.23a "Polwarth IV"
--------------------------------------------------------------------

--------------------------------------------------------------------
Issues with the current release
--------------------------------------------------------------------

Mahogany, just like wxGTK, works best with gtk 1.2.x. It should still
work with 1.0.6, but this depends on wxGTK which might or might not
exhibit some problems with it.

More detailed information about Mahogany, how to get support for it,
how to contribute it, and last not least, how to use it, can be found
in the user manual, included in HTML and PostScript format, or the
online help system. Some quick compilation notes can be found below,
more in the manual. All the information, including the full online
docs, are also available on the Mahogany web page:
http://mahogany.home.dhs.org/

Be not confused by references to a program called "M", which was the
original working title for "Mahogany".


wxGTK still exhibits a minor bug which occasionally corrupts the
layout of complex dialogs, such as the preferences dialog in Mahogany.
Resizing the dialog window a little with the mouse fixes the layout.

--------------------------------------------------------------------
Internet resources
--------------------------------------------------------------------

The Mahogany web page is at:

http://mahogany.home.dhs.org/
http://www.phy.hw.ac.uk/~karsten/Mahogany/


Mahogany and wxWindows/wxGTK are available via anonymous ftp from the
following places:

UK/Europe:
ftp://ronnie.phy.hw.ac.uk/pub/Mahogany
ftp://ronnie.phy.hw.ac.uk/pub/wxGTK

US mirror:

ftp://ftp.gdev.net/pub/Mahogany
ftp://ftp.gdev.net/pub/wxGTK


A web frontend to the developers' cvs archive is available at:

http://cvs.gdev.net/mahogany.cgi
http://cvs.gdev.net/wxgtk.cgi

The wxWindows home page is at:

http://www.wxwindows.org/


--------------------------------------------------------------------
Compilation notes
--------------------------------------------------------------------

These are some very brief notes about how to compile M.
More detailed, step for step, instructions can be found in the Manual,
which is contained in the Mdoc.tar.gz file in the doc directory.
You can also view it online at http://www.phy.hw.ac.uk/~karsten/M/dl/Manual/

Before you can compile Mahogany, you will need to get a copy of wxGTK and
compile and install it. It is important, that you use a very recent copy of
wxGTK, or the wxGTK source snapshot available from the same places where you
get Mahogany, and configure it as detailed below. Compiling wxGTK with
different configure switches is possible, and should generally work with
Mahogany. However, to play it safe, stick to the options below.

If using the source from CVS or the snapshot, you need to understand
wxGTK's build system. Have a look at wxWindows/BuildCVS.txt. It's simple:
Create a new directory under wxWindows/ to contain your build tree and
run ../configure from in there to set up the build system. If this fails,
because you don't have all the latest tools, change into wxWindows/testconf
instead and run ./apply. After that go back to your build directory and
run ../configure. Running ../configure --help first is a good idea.

- wxGTK should be configured with the following options:
  (You can vary these as you like, but these are recommended.)

     ../configure \
        --disable-shared \          # or --disable-static if you prefer
	--enable-static \           # or --enable-shared if you prefer
	--with-libjpeg \
	--with-libpng \
	--with-gtk \
        --without-odbc \
        --with-threads 		   # this isn't strictly needed, you can leave
	                             it out

For debugging, the following options should be added:

	--enable-debug_flag \
	--enable-debug_info \
	--disable-optimise     # this is also needed for gcc 2.8.0

If using gtk 1.0.6 rather than 1.2.x, you need to add --without-dnd .
If you experience a problem with thread support, you can just as well
compile it --without-threads, they are not currently required.
If you like, you can change the without/with static/shared options above
to generate a shared library instead of the static one.

Doing a "make" and "make install" in the wxWindows/src directory should install
the header files and libraries on your system. You can use the --prefix= option
when compiling wxGTK, to chose a different (default:/usr/local) installation
location. If you install it in a non-standard location, you can make sure that
Mahogany will find it, by linking the include/wx directory to Mahogany's
extra/include/wx directory and all the libwx_gtk* files to Mahogany's
extra/lib directory.  In that case, Mahogany's configure should be run 
with the additional --without-wxconfig option.


To compile and install Mahogany itself:
  ./configure --help
  ./configure "with your appropriate options"
  make depend
  make             # or "make all" to try to build message catalogs as well
  make doc
  make install_all

  If you built wxWindows with debug enabled, specify the --with-debug option
  when configuring Mahogany.

  Depending on whether you have installed all required programs in the
  right versions, "make doc" and "make install_all" might
  fail. Instead, you can do the following:
    make install         # this will install the program and required files
    make install_doc     # this should install the documentation and
                         # online help
    make install_locale  # this tries to build and install the message
                         # catalogs

Also, if you change into the src directory, the additional targets
"make static" and "make semistatic" are available, to produce binaries 
with less dependencies on external libraries.

If you want to re-compile Mahogany, it is generally sufficient to do
this from withing the src directory, as there is hardly ever a need to 
rebuild all the additional software in the extra/src directory.
Runnin make from within src is much faster than doing this from the
toplevel directory.

Required software:

   - wxGTK, the gtk port of wxWindows
	available from http://web.ukonline.co.uk/julian.smart/wxwin/
        M is not based on any of the earlier betas, but on a snapshot
        from the cvs. If you want to make sure that you don't have any 
        problems in compiling and linking M against it, you should
        download the wxGTK snapshot used by us to compile the binary release
	of Mahogany. It is available from:
	http://www.phy.hw.ac.uk/~karsten/M/dl/wxGTK.tar.gz

   - libgtk 1.0.x, libglib 1.0.x, or gtk/glib 1.2.x


