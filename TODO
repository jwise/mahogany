TODO list for M   
$Id$

*** things to fix/implement next ***

- MessageView:
  + some code in wxMessageView relies on unix unlink() behaviour 
    (file is still open and in use when deleted)
  + fix MessageCC::GetParameters()
  + extraction of parameter list and filenames for mime handling/saving
  + add a "save as html" option, using wxLayoutWindow functionality
  + add a "save" option first

- wxFolderView:
   + complete ForwardMessages
   + add other functionality such as undelete messages or stripMime
   + delete and forward don't work properly
   + correct handling of message flags: NEW flag must be reset, Read/Replied flags?
   + call to Update() from within PreviewMessage/MessageCC code leads
     to Clear() on wxFolderListCtrl and subsequent invalidation of
     wxListCtrl data. All this happens from within OnSelected!

- wxLayout:
  + fix wxGTK postscript printing which is pretty broken, compare with wxXt?
  + backspace sometimes goes wrong, occasional editing problems ??
  + flicker
  + key bindings for wxLayoutWindow

- ComposeView:
  + support saving of sent mail (FCC)

- Profile/wxMDialogs
  + fix usage of readEntry to use String objects
  + wxMDialogs completely broken as it is now
  + who cleans up CPYSTR() generated strings?
  + find path to global configuration file and use it

- write some first configuration dialogs and for opening a folder

- configure: USE_WXCONFIG does not get defined!

- suppress superfluous message popup-windows (i.e. c-client status messages)

- WINDOWS: how to do MIME handling?

- fix non-ASCII characters in header lines

- Python
  + in src/Python: improve rules to always redo .cpp/.py
  + drop Script classes
  + add remaining (important) interface definitions
  + add an InputBox dialog
  + user/global Minit files, security issues
  + add documentation to installation target
  + add OnNewMail callback by counting messages in mailbox
    + add sample callback showing new messages


*** to implement in near future ***

- add support for popping window open and reading a folder of one's choice
  (for being controlled from xbiff like programs)
  idea: read from ~/.M/control whenever being sent a certain signal,
        execute that text as a python script

- threading of messages via MessageId/References header lines
  Follow examples in SunExpert journal.

- drag and drop interaction with gmc and kfm

- full URL parsing according to specs (have the BNF now)
- cut and paste for wxllist, wxhtmlwindow, wxHtmlImport()

- when run for the first time, should display "Mail" configuration dialog
  with reasonable defaults (add a top-level profile option "ConfigDone"
  and do it if it's not found) including import of XFace from file

- lots of dialogs for profile settings required

- support for external editor (WHAT!? KB)

*** long-term projects ***

- Support for different charsets (Unicode/utf-7/8?)

- LDAP -- possibly using python ldap module?

- automatic (but optional) mail compactification (to save disk space)?
  -> this could be done using scripts?

- creation of separate index files for mail folders


********************* known wxWindows bugs **********************

- wxWindow position not updated when frame is moved (wxGTK)
- drawing of transparent icons on wxDC gives undefined background (wxGTK)
- wxDC::GetTextExtent() does not set descent value (wxGTK)
- font mess (wxGTK)
- constraints


