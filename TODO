TODO list for M   
$Id$


*** things to fix/implement next ***

- sequence invalid bug on close of folder
- test sl5/slx abiguity in c-client: use -lshadow on libc5 and -lcrypt on glibc2?
- SentMail folder path should be relative - broken
- reply mail does not quote original mail but inserts junk
- reply/forward buttons for messageview/folderview
- make icons in AdbEdit transparent
- make AdbEdit textctrl accept pasted text
- make AdbEdit auto-generate a formatted name from first/family-name and prefix/title.


- wxOptionsDlg:
	+ can easily get crashed/stuck in endless loop trying to satisfy constraints
- Preferences editor should mail oneself for test (MAppBase::VerifySettings)

- wxLayout:
  + fix wxGTK postscript printing which is pretty broken, compare with wxXt?
    + check printing example
  + scroll to cursor
  + cut&paste, different cursor ofr focus/no focus
  + URL highlighting is buggy: I don't know how should we fix it without first
    reading all the docs, but Profile::readEntry() definitely shouldn't be
    highlighted (well, "Pro" is not) :-)

- Python
  + in src/Python: improve rules to always redo .cpp/.py
  + add remaining (important) interface definitions
  + add an InputBox dialog
  + user/global Minit files, security issues
  + add OnNewMail callback by counting messages in mailbox
    + add sample callback showing new messages
  + update interface files

- DND with gmc (dead easy, see dnd example :-) )

- new mail callback

*** to implement in near future ***

- !!! non-blocking message retrieval !!!

- add support for popping window open and reading a folder of one's choice
  (for being controlled from xbiff like programs)
  idea: listen() on a socket and write socket number to a file ~/.M/socket 

- threading of messages via MessageId/References header lines
  Follow examples in SunExpert journal.

- drag and drop interaction with gmc and kfm

- full URL parsing according to specs (have the BNF now)
- cut and paste for wxllist, wxhtmlwindow, wxHtmlImport()

- when run for the first time, should display "Mail" configuration dialog
  with reasonable defaults (add a top-level profile option "ConfigDone"
  and do it if it's not found) including import of XFace from file

- lots of dialogs for profile settings required

- support for external editor (WHAT!? KB)
  + I want vim

- fix non-ASCII characters in header lines


*** long-term projects ***

- Support for different charsets (Unicode/utf-7/8?)

- LDAP -- possibly using python ldap module?

- automatic (but optional) mail compactification (to save disk space)?
  -> this could be done using scripts?

- creation of separate index files for mail folders

********************* targets for re-write **********************

Clean up MailFolder/Message classes as part of header/class rewrite
for modularisation. Share common code in
MessageCC/MailFolderCC/SendMessageCC and somehow integrate SendMessage 
classes in the hierarchy.

Create a function to expand path names, including ~ or $HOME.
Create a module to deal with all kinds of pathname lookups and
expansions. 

********************* known wxWindows bugs **********************

- drawing of transparent icons on wxDC gives undefined background (wxGTK)
  --> can be fixed by setting a parameter. Is fixed now?

- wxDC::GetTextExtent() does not set descent value (wxGTK)
- font mess (wxGTK)
- constraints


