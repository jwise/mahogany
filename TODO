TODO list for M   
$Id$


*** things to fix/implement next ***

- Expand in ComposeView is broken: should insert "Formatted_Name <EMail>" and
  must not treat the whole To: as a single name but properly parse it. How can
  we expand CC/BCC fields?
- tons of cclient lib errors (mainly "invalid sequence") whatever I do under
  Windows - I have no clue :-(
- sequence invalid bug on close of folder
- test sl5/slx abiguity in c-client: use -lshadow on libc5 and -lcrypt on glibc2?
- SentMail folder path should be relative - broken
- reply mail does not quote original mail but inserts junk (fixed?)
- reply/forward buttons for messageview/folderview
- make AdbEdit textctrl accept pasted text
- make AdbEdit auto-generate a formatted name from first/family-name and prefix/title.
- add Picture field to Adb
- update FolderView if mailbox has shrunk  (which callback gets called?)

- New Mail indicator
- Check for new mail button

- rename strutil_after(0 to strutil_behind() :-)

- folders should remember whether they were opened on program shutdown and
  reopen automatically in this case (/Folders/<FolderName>/AutoOpen = TRUE)
  KB: WHY? We have the "list of open folders". Better: have a "Reopen
      Folder" menu to toggle this behavious, i.e. add/remove it from that
      list.

- wxOptionsDlg: two conversions from (long) to (int) .... is that ok?
  + should have "restore defaults", would be nice to be able to do it for
    one setting only (and not for all of them which is trivial)
  + can easily get crashed/stuck in endless loop trying to satisfy constraints
  + Preferences editor should mail oneself for test (MAppBase::VerifySettings)

- wxLayout: --- working on this, KB ---
  + cut&paste, different cursor for focus/no focus
 
- UI things
  + message-related commands should be disabled if there is no selection
    (already works in standalone folder view, but not for main frame)
  + we should somehow merge the toolbars into the main frame toolbar if it
    shows the folder view, for example
  + session management
  + KEYBOARD BINDINGS AND TAB TRAVERSAL (!!IMPORTANT!!)

- Python
  + add remaining (important) interface definitions
  + user/global Minit files, security issues
  + add OnNewMail callback by counting messages in mailbox
    + add sample callback showing new messages
  + merge in wxPython

- DND with gmc (dead easy, see dnd example :-) )

*** to implement in near future ***

- Use configure to check for utilities, like help browser. "ReConfigure" menu.

- Edit-CC, CC messages to others but edit the individual copies before sending

- !!! non-blocking message retrieval !!!

- REMOTE-CONTROL: add support for popping window open and reading a folder of one's choice
  (for being controlled from xbiff like programs)
  idea: listen() on a socket and write socket number to a file ~/.M/socket 

- threading of messages via MessageId/References header lines
  Follow examples in SunExpert journal.

- support for external editor (WHAT!? KB)
  + I want vim ....I'm getting sick.

- fix non-ASCII characters in header lines

*** long-term projects ***

- Support for different charsets (Unicode/utf-7/8?)

- LDAP -- possibly using python ldap module or OpenLDAP.

- automatic (but optional) mail compactification (to save disk space)?
  -> this could be done using scripts?

- creation of separate index files for mail folders

********************* targets for re-write **********************

Clean up MailFolder/Message classes as part of header/class rewrite
for modularisation. Share common code in
MessageCC/MailFolderCC/SendMessageCC and somehow integrate SendMessage 
classes in the hierarchy.

Create a function to expand path names, including ~ or $HOME.
Create a module to deal with all kinds of pathname lookups and
expansions. 

********************* known wxWindows bugs **********************

- font mess (wxGTK)
- constraints


