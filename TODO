TODO list for M   
$Id$


*** things to fix/implement next ***

(I've sorted them a bit by "responsible person". :-) )

- fix Adb auto-collection
  + auto-collection needs testing, better lookup  -- doesn't work yet

- wxLayout mouse clicks don't work, for two reasons:
     1. event ids are not the ones expected, easy to fix
     2. for some reasons ProcessEvents() does not call any event handler...why?
- wxLayout: --- working on this, KB ---
  + cut&paste, different cursor for focus/no focus

- test xfaces
- reply/forward buttons for messageview/folderview
- only quote the selected text in reply/forward if there is any selection
  (as in XFMail) - very handy
- update FolderView if mailbox has shrunk  (which callback gets called?)
- New Mail indicator
- Check for new mail button


- folders should remember whether they were opened on program shutdown and
  reopen automatically in this case (/Folders/<FolderName>/AutoOpen = TRUE)
  KB: WHY? We have the "list of open folders". Better: have a "Reopen
      Folder" menu to toggle this behavious, i.e. add/remove it from that
      list.

- Python
  + fix Python problems -- what's wrong? No idea why Setup.py doesn't work.
  + add remaining (important) interface definitions
  + user/global Minit files, security issues
  + add OnNewMail callback by counting messages in mailbox
    + add sample callback showing new messages
  + merge in wxPython

- DND with gmc (dead easy, see dnd example :-) )


- Alpha:
  + editing after reply/signature in wrong place
  + doesn't terminate
  + wxList asserts

- announce M and bbdb2adb on bbdb mailing list

KB: Vadim, could you check the following ADB-wxOptionsDlg please?

- ADB:
  make AdbEdit textctrl accept pasted text
  make AdbEdit auto-generate a formatted name from first/family-name and prefix/title.
  add Picture field to Adb
  + implement "internal clipboard" for
    - cut-&-paste
    - drag-&-drop

- wxOptionsDlg: two conversions from (long) to (int) .... is that ok?
  + should have "restore defaults", would be nice to be able to do it for
    one setting only (and not for all of them which is trivial)
  KB: I will add the following through python asap:
  + Preferences editor should mail oneself for test (MAppBase::VerifySettings)

- UI things
  + we should somehow merge the toolbars into the main frame toolbar if it
    shows the folder view, for example
  + session management
  + KEYBOARD BINDINGS AND TAB TRAVERSAL (!!IMPORTANT!!)

- Expand in ComposeView is broken: should insert "Formatted_Name <EMail>" and
  must not treat the whole To: as a single name but properly parse it. How can
  we expand CC/BCC fields?


*** to implement in near future ***

- wxFolderView assumes that msg numbers are 1...n - change this to use uids instead.

- Use configure to check for utilities, like help browser. "ReConfigure" menu.

- Edit-CC, CC messages to others but edit the individual copies before sending

- !!! non-blocking message retrieval !!!

- REMOTE-CONTROL: add support for popping window open and reading a folder of one's choice
  (for being controlled from xbiff like programs)
  idea: listen() on a socket and write socket number to a file ~/.M/socket 

- SendMessageCC should derive from a SendMessage abc

- threading of messages via MessageId/References header lines
  Follow examples in SunExpert journal.

- support for external editor (WHAT!? KB)
  + I want vim ....I'm getting sick.

- fix non-ASCII characters in header lines

*** long-term projects ***

- Support for different charsets (Unicode/utf-7/8?)

- LDAP -- possibly using python ldap module or OpenLDAP.

- automatic (but optional) mail compactification (to save disk space)?
  -> this could be done using scripts?

- creation of separate index files for mail folders

********************* targets for re-write **********************

Clean up MailFolder/Message classes as part of header/class rewrite
for modularisation. Share common code in
MessageCC/MailFolderCC/SendMessageCC and somehow integrate SendMessage 
classes in the hierarchy.

Create a function to expand path names, including ~ or $HOME.
Create a module to deal with all kinds of pathname lookups and
expansions. 

********************* known wxWindows bugs **********************

- font mess (wxGTK)
- constraints


