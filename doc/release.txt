File:		doc/release.txt
Summary:	what to do to make a new Mahogany release
Audience:	Mahogany developers
Author:		Vadim Zeitlin <vadim@wxwindows.org>
Last modified:	2001.07.24
Version:	the information in this file applies to the cvs sources

1. Updating the version
-----------------------

a) include/Mversion.h

b) Manual.htex

c) Bugzilla (create new version, check that there are no bugs for this one)

e) redhat/M.spec


2. Updating the files
---------------------

a) Web pages in MahoganyWeb module: at least download.ht4, status.ht4 and
   ChangeLog.ht4

b) doc/Mannounce.txt

c) README, CHANGES, doc/relnotes.txt, doc/RoadMap.txt

d) doc/release.txt to add any steps which are not yet in this file :-)

e) redhat/M.spec

f) extra/setup/M.iss and extra/setup/{post|pre}read.txt

g) po files: make -C locale mergecat

h) "cvs rtag" the files


3. Testing
------------------------

a) test wizard with empty config



4. Preparing the release
------------------------

a) tarball

Just do a fresh checkout, rename the directory to mahogany-%{VERSION} and tar
gzip. The script extra/scripts/makeMtgz automates it.

b) RPM

(i) if there is no appropriate wxGTK RPM, static wxWin build must be used.
    for the current cvs HEAD configure wxGTK with the following arguments:

    --disable-shared --disable-threads --disable-joystick --without-expat

(ii) then do "rpmbuild -ba redhat/M.spec", possible after setting CONFIG_FLAGS
     to contain extra arguments to pass to M configure (e.g. --with-wxdir or
     --with-ssl and, when using static wxWindows, --with-modules=dynamic!)

c) DEB: ???

d) Win32 binaries: build with debug info, save the PDB and MAP files



5. Uploading the files
----------------------

To upload.sourceforge.net, then create the release from SF project admin page.
Use doc/relnotes.txt for the release notes and the "Changes" part of
doc/Mannounce.txt for the change log.

Don't forget to upload Mdocs.tar.gz!

6. Announcing the release
-------------------------

a) mailing lists and newsgroups

Edit and send the announcement (doc/Mannounce.txt) to the following addresses:

lg@ssc.com
c-client@u.washington.edu
linux-announce@news.ornl.gov
editor@32bitsonline.com
gnome-announce-list@gnome.org
mahogany-announce@lists.sourceforge.net
mahogany-developers@lists.sourceforge.net
mahogany-users@lists.sourceforge.net
python-announce-list@python.org
comp.os.linux.announce

b) IMAP software database

Write to software-list@imap.org to update the information in the IMAP software
database.

Update: apparently now they have a Web interface at

              http://www.imap.org/products/submit.php

c) Freshmeat

Update the FM record

d) GNOME app map: http://www.gnome.org/applist/

e) GNU Free Software Directory: http://www.gnu.org/directory/mahogany.html

f) OSD: http://www.opensourcedirectory.org/ (not sure if really needed)

g) Linux Software Map:

Update the following template and send it to lsm@execpc.com:

Begin4
Title:          Mahogany
Version:        0.64
Entered-date:   2002-01-14
Description:    A powerful and flexible cross-platform GUI email client
Keywords:       mail news SMTP POP IMAP NNTP MIME Python vCard Palm
Author:         Vadim Zeitlin <vadim@wxwindows.org>
                Karsten Ball|der <ballueder@gmx.net>
Primary-site:   http://sourceforge.net/project/showfiles.php?group_id=3100&release_id=69878
Platforms:      Unix/GTK+ and Win32
Copying-policy: Mahogany Artistic License or GPL
End


----------------------------------------------------------------------------
vi: ts=8 nolist:
