#
# makeopts template file for M
#
# $Id$
#
# set build root directory:
BUILDDIR = @BUILDDIR@

# the c-client library:
CCLIENTDIR=$(BUILDDIR)/extra/src/c-client
CCLIENTINCLUDE=$(CCLIENTDIR)
CCLIENTLIB=$(CCLIENTDIR)/c-client.a
CCLIENTOSTYPE=@CCOSTYPE@

# where we have the Icon xpms:
ICONDIR=$(BUILDDIR)/src/icons

# compiler flags
ODIR=.

# this will be set or unset
@MAKE_USE_PYTHON@
@MAKE_USE_SWIG@
@MAKE_HAVE_SGMLTOOLS@

# canonical host
CANONICAL_HOST=@host@

# DOC++/kdoc
DOCXXHTML=doc++ -f -k -u -k $(DXXTBL) -H -d $(BUILDDIR)/doc/classes
DOCXXTEX =doc++ -f -k -u -k $(DXXTBL) -H -t -o $(BUILDDIR)/doc/M.tex
KDOCHTML = kdoc -H -d $(BUILDDIR)/doc/classes -u $(BUILDDIR) -a -i -e M  
KDOCTEX =  kdoc -T -d $(BUILDDIR)/doc/classes -u $(BUILDDIR) -a -i -e M
DOCHTML=@DOCHTML@
DOCTEX=@DOCTEX@
LATEX=@LATEX@
DVIPS=@DVIPS@

# compiler stuff
CC = @CC@
CPP = @CPP@
CXX = @CXX@
CXXCPP = @CXXCPP@
CPPFLAGS =@CPPFLAGS@

# SWIG
ifdef USE_SWIG
SWIG = @SWIG@
SWIGFLAGS = -c++ -python -shadow -dhtml -c
SWIGFLAGS_LIBSWIG = -c++ -python -shadow 
else
SWIG= echo
SWIGFLAGS=
SWIGFLAGS_LIBSWIG=
endif

# other stuff
RM = rm -f
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@

prefix = @prefix@
exec_prefix = @exec_prefix@
PREFIX=@prefix@
exec_prefix=@exec_prefix@
# Directory in which to install scripts.
BINDIR = @bindir@
# Directory in which to install library files.
DATADIR = @datadir@/M
# where to install docs
DOCDIR = @datadir@/M/doc

# for the dynamic linker, better than using -rpath
LD_RUN_PATH=$(DATADIR)/$(CANONICAL_HOST)/lib

LINK = $(CXX) -Wl-r$(LD_RUN_PATH)

DEF = -DM_PREFIX="\"$(PREFIX)\"" -DM_BASEDIR="\"$(DATADIR)\"" -DM_DATADIR="\"$(DATADIR)/data\"" -DM_DOCDIR="\"$(DATADIR)/M/doc\""
INC = -I$(BUILDDIR)/include -I$(BUILDDIR)/extra/include -I$(BUILDDIR)/include/gui -I$(CCLIENTINCLUDE) 
CFLAGS   = @CFLAGS@  $(CPPFLAGS) $(DEF) $(INC)
CXXFLAGS = @CXXFLAGS@ $(CPPFLAGS) $(DEF) $(INC)
LDFLAGS = @LDFLAGS@

LIBS=@LIBS@ $(CCLIENTLIB)
