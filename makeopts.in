#
# makeopts template file for M
#
# $Id$
#
# $Log$
# Revision 1.13  1998/07/10 09:24:34  KB
# minor changes and support for c-client config in configure.in
#
# Revision 1.12  1998/07/07 12:41:13  KB
# No longer mixes debug and optimisation flags.
# New option (on by default) --with-debug for configure.
#
# Revision 1.11  1998/07/05 12:20:02  KB
# wxMessageView works and handles mime (segfault on deletion)
# wsIconManager loads files
# install target
#
# Revision 1.10  1998/06/14 12:23:57  KB
# started to move wxFolderView to be a panel, Python improvements
#
# Revision 1.9  1998/06/08 08:34:51  KB
# Python adapted to use MAppBase/MDialog instead of MApplication.
#
# Revision 1.8  1998/05/30 17:54:52  KB
# Python integration mostly complete, added hooks and sample callbacks.
# Wrote documentation on how to use it.
#
# Revision 1.7  1998/05/24 14:46:47  KB
# lots of progress on Python, but cannot call functions yet
# kbList fixes again?
#
# Revision 1.6  1998/05/19 17:02:38  KB
# several small bugfixes
#
# Revision 1.5  1998/05/18 17:48:14  KB
# more list<>->kbList changes, fixes for wxXt, improved makefiles
#
#
# set build root directory:
BUILDDIR = @BUILDDIR@

# the c-client library:
# hard-coded, could be looked up by configure...

#IMAPDIR=$(BUILDDIR)/imap-4.1.BETA
CCLIENTDIR=$(BUILDDIR)/extra/src/c-client
CCLIENTINCLUDE=$(CCLIENTDIR)
CCLIENTLIB=$(CCLIENTDIR)/c-client.a
CCLIENTOSTYPE=@CCOSTYPE@

# where we have the Icon xpms:
ICONDIR=$(BUILDDIR)/src/icons

#gettext:

EXTRALIBS=@LIBINTL_LINK@ @COMPFACE_LINK@ @EXTRA_LINK@

# compiler flags
OPT = @OPTFLAGS@
DBG = @DBGFLAGS@ 

GUI_SLINK=@WX_SLINK@ 
GUI_INCLUDE=@WX_INCLUDE@ -I$(ICONDIR)
GUI_LINK=@WX_LINK@
GUI_DEFS=@WX_DEFS@



PYTHON_LINK = @PYTHON_LINK@ @LIBDL_LINK@
PYTHON_INCLUDE = @PYTHON_INCLUDE@ 

# this will be set or unset
@MAKE_USE_PYTHON@
@MAKE_USE_WXTAB@

# output dir for binaries:
ODIR = .

# directory for documentation
DOCDIR = $(BUILDDIR)/doc/

# DOC++
DXX      = doc++
DXXTBL   = #-a -b # set this to empty to avoid generation of tables
DXXHFLAGS = -f -k -u -k $(DXXTBL) -H -d $(DOCDIR)/$(CWD)
DXXTFLAGS = -f -k -u -k $(DXXTBL) -H -t -o $(DOCDIR)/$(CWD).tex

# c-compiler stuff
CC = @CC@
CPP = @CPP@

# c++-compiler stuff
CXX = @CXX@
CXXCPP = @CXXCPP@

# SWIG
SWIG = @SWIG@
SWIG_LINK = @SWIG_LINK@
SWIGFLAGS = -c++ -python -shadow
ifdef SWIG_LINK
SWIGFLAGS := $(SWIGFLAGS) -c
endif

# other stuff
RM = rm -f
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@

prefix = @prefix@
exec_prefix = @exec_prefix@

# Directory in which to install scripts.
BINDIR = @bindir@

# Directory in which to install library files.
DATADIR = @datadir@/M

# Directory in which to install documentation info files.
INFODIR = @infodir@/M

# where to install docs
DOCDIR = $(DATADIR)/doc


X_CFLAGS = @X_CFLAGS@
X_LIBS = @X_LIBS@
X_EXTRA_LIBS = @X_EXTRA_LIBS@
X_PRE_LIBS = @X_PRE_LIBS@

XPM_INCLUDE = @XPM_INCLUDE@
XPM_LINK = @XPM_LINK@

EXTRA_SRC_INC = @EXTRA_SRC_INC@
EXTRA_SRC_LIB = @EXTRA_SRC_LIB@

LINK = $(CXX) 

DEF = $(GUI_DEFS)
INC = -I$(BUILDDIR)/include -I$(BUILDDIR)/extra/include -I$(BUILDDIR)/include/gui -I$(CCLIENTINCLUDE) \
      $(GUI_INCLUDE) $(PYTHON_INCLUDE) $(XPM_INCLUDE) $(EXTRA_SRC_INC)
CFLAGS   = $(OPT) $(DBG) $(DEF) $(INC)
CXXFLAGS = $(OPT) $(DBG) $(DEF) $(INC)
LDFLAGS  = $(OPT) $(GUI_LDFLAGS) 

LIBS= \
  -L$(BUILDDIR)/extra/lib \
  $(EXTRALIBS) $(EXTRA_SRC_LIB) $(CCLIENTLIB) \
  $(GUI_LINK) \
  $(XPM_LINK) \
  $(PYTHON_LINK) $(SWIG_LINK) \
  $(X_EXTRA_LIBS) \
  $(X_PRE_LIBS) \
  $(X_LIBS) -lX11 -lm

SLIBS= \
  $(EXTRALIBS) $(EXTRA_SRC_LIB) $(CCLIENTLIB) \
  $(GUI_SLINK) \
  $(XPM_LINK) \
  $(PYTHON_LINK) $(SWIG_LINK) \
  $(X_EXTRA_LIBS) \
  $(X_PRE_LIBS) \
  $(X_LIBS) -lX11 -lm
