# set build root directory:
BUILDDIR = @BUILDDIR@

# the c-client library:
IMAPDIR=$(BUILDDIR)/imap-4.1.BETA
CCLIENTDIR=$(IMAPDIR)/c-client
CCLIENTINCLUDE=$(CCLIENTDIR)
CCLIENTLIB=$(CCLIENTDIR)/c-client.a
CCLIENTOSTYPE=lnx

# where we have the Icon xpms:
ICONDIR=$(BUILDDIR)/src/icons

#gettext:

EXTRALIBS=@LIBINTL_LINK@ @COMPFACE_LINK@

# compiler flags
OPT = -Wall -pedantic #-posix
DBG = -g2 -DDEBUG

#WXLIBS=-lwxgtk -lgtk
#WXDEFS=-DwxPanel=wxWindow -DwxItem=wxObject -Dwx_gtk -D__NO_MATH_INLINES -DWXWIN2 

GUI_SLINK=@WX_SLINK@ 
GUI_INCLUDE=@WX_INCLUDE@ -I$(ICONDIR)
GUI_LINK=@WX_LINK@
GUI_DEFS=$(WXDEFS)



PYTHON_LINK = @PYTHON_LINK@ @LIBDL_LINK@
PYTHON_INCLUDE = @PYTHON_INCLUDE@ 

# output dir for binaries:
ODIR = .

# directory for documentation
DOCDIR = $(BUILDDIR)/doc/

# DOC++
DXX      = doc++
DXXTBL   = #-a -b # set this to empty to avoid generation of tables
DXXHFLAGS = -f -k -u -k $(DXXTBL) -H -d $(DOCDIR)/$(CWD)
DXXTFLAGS = -f -k -u -k $(DXXTBL) -H -t -o $(DOCDIR)/$(CWD).tex

# c-compiler stuff
CC = @CC@
CPP = @CPP@

# c++-compiler stuff
CXX = @CXX@
CXXCPP = @CXXCPP@


# other stuff
RM = rm -f
LEX = @LEX@
LEXLIB = @LEXLIB@
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@

prefix = @prefix@
exec_prefix = @exec_prefix@

# Directory in which to install scripts.
#bindir = @bindir@

# Directory in which to install library files.
datadir = @datadir@

# Directory in which to install documentation info files.
infodir = @infodir@

X_CFLAGS = @X_CFLAGS@
X_LIBS = @X_LIBS@
X_EXTRA_LIBS = @X_EXTRA_LIBS@
X_PRE_LIBS = @X_PRE_LIBS@

XPM_INCLUDE = @XPM_INCLUDE@
XPM_LINK = @XPM_LINK@

LINK = $(CXX) 

DEF = $(GUI_DEFS)
INC = -I$(BUILDDIR)/include -I$(BUILDDIR)/extra/include -I$(BUILDDIR)/include/gui -I$(CCLIENTINCLUDE) \
      $(GUI_INCLUDE) $(PYTHON_INCLUDE) $(XPM_INCLUDE)
CFLAGS = @CFLAGS@ $(OPT) $(DBG) $(DEF) $(INC)
CXXFLAGS = @CXXFLAGS@ $(OPT) $(DBG) $(DEF) $(INC)
LDFLAGS  = $(OPT) $(GUI_LDFLAGS) 

LIBS= \
  -L$(BUILDDIR)/extra/lib \
  $(EXTRALIBS) $(CCLIENTLIB) \
  $(GUI_LINK) \
  $(XPM_LINK) \
  $(PYTHON_LINK) \
  $(X_EXTRA_LIBS) \
  $(X_PRE_LIBS) \
  $(X_LIBS) -lX11 -lm

SLIBS= \
  $(EXTRALIBS) $(CCLIENTLIB) \
  $(GUI_SLINK) \
  $(XPM_LINK) \
  $(PYTHON_LINK) \
  $(X_EXTRA_LIBS) \
  $(X_PRE_LIBS) \
  $(X_LIBS) -lX11 -lm
